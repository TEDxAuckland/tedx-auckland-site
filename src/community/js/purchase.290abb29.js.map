{"version":3,"sources":["webpack:///./src/ticketing/views/Profile/index.vue?8463","webpack:///./src/ticketing/views/Purchase/index.vue?62b9","webpack:///./src/ticketing/views/Purchase/TicketTotal.vue?2542","webpack:///src/ticketing/views/Purchase/TicketTotal.vue","webpack:///./src/ticketing/views/Purchase/TicketTotal.vue?94b2","webpack:///./src/ticketing/views/Purchase/TicketTotal.vue","webpack:///./src/ticketing/views/Purchase/PersonDetailsForm.vue?f32b","webpack:///src/ticketing/views/Purchase/PersonDetailsForm.vue","webpack:///./src/ticketing/views/Purchase/PersonDetailsForm.vue?625f","webpack:///./src/ticketing/views/Purchase/PersonDetailsForm.vue","webpack:///./src/ticketing/views/Purchase/PromoCodeForm.vue?41a4","webpack:///./src/services/PromoCodeService.js","webpack:///src/ticketing/views/Purchase/PromoCodeForm.vue","webpack:///./src/ticketing/views/Purchase/PromoCodeForm.vue?378e","webpack:///./src/ticketing/views/Purchase/PromoCodeForm.vue","webpack:///./src/ticketing/views/Purchase/Modal.vue?3121","webpack:///src/ticketing/views/Purchase/Modal.vue","webpack:///./src/ticketing/views/Purchase/Modal.vue?8ee4","webpack:///./src/ticketing/views/Purchase/Modal.vue","webpack:///src/ticketing/views/Purchase/index.vue","webpack:///./src/ticketing/views/Purchase/index.vue?b9a4","webpack:///./src/ticketing/views/Purchase/index.vue?7a9b","webpack:///./src/ticketing/views/SendTickets/UpperNav.vue?15c7","webpack:///./src/ticketing/views/Purchase/index.vue?7898","webpack:///./src/ticketing/views/SendTickets/TicketPreview.vue?97c1","webpack:///./src/ticketing/views/Ticket/UpperNav.vue?20e3","webpack:///./src/ticketing/views/SendTickets/RecipientDetailsForm.vue?838e","webpack:///./src/ticketing/views/Ticket/index.vue?93cc","webpack:///./src/ticketing/views/Ticket/UpperNav.vue?be8a","webpack:///src/ticketing/views/Ticket/UpperNav.vue","webpack:///./src/ticketing/views/Ticket/UpperNav.vue?1693","webpack:///./src/ticketing/views/Ticket/UpperNav.vue?a0d8","webpack:///src/ticketing/views/Ticket/index.vue","webpack:///./src/ticketing/views/Ticket/index.vue?14a8","webpack:///./src/ticketing/views/Ticket/index.vue","webpack:///./src/ticketing/views/SendTickets/PurchaserTicket.vue?a4ef","webpack:///./src/ticketing/views/Profile/index.vue?9c45","webpack:///./src/ticketing/views/Profile/UpperNav.vue?3c29","webpack:///src/ticketing/views/Profile/UpperNav.vue","webpack:///./src/ticketing/views/Profile/UpperNav.vue?b287","webpack:///./src/ticketing/views/Profile/UpperNav.vue?22e6","webpack:///src/ticketing/views/Profile/index.vue","webpack:///./src/ticketing/views/Profile/index.vue?9968","webpack:///./src/ticketing/views/Profile/index.vue?11fd","webpack:///./src/ticketing/views/SendTickets/index.vue?41e8","webpack:///./src/ticketing/views/SendTickets/PurchaserTicket.vue?018f","webpack:///src/ticketing/views/SendTickets/PurchaserTicket.vue","webpack:///./src/ticketing/views/SendTickets/PurchaserTicket.vue?c490","webpack:///./src/ticketing/views/SendTickets/PurchaserTicket.vue?c41b","webpack:///./src/ticketing/views/SendTickets/TicketPreview.vue?38d3","webpack:///src/ticketing/views/SendTickets/TicketPreview.vue","webpack:///./src/ticketing/views/SendTickets/TicketPreview.vue?df7e","webpack:///./src/ticketing/views/SendTickets/TicketPreview.vue?e6af","webpack:///./src/ticketing/views/SendTickets/RecipientDetailsForm.vue?d6cb","webpack:///src/ticketing/views/SendTickets/RecipientDetailsForm.vue","webpack:///./src/ticketing/views/SendTickets/RecipientDetailsForm.vue?1d39","webpack:///./src/ticketing/views/SendTickets/RecipientDetailsForm.vue?bca3","webpack:///./src/ticketing/views/SendTickets/UpperNav.vue?0a9e","webpack:///src/ticketing/views/SendTickets/UpperNav.vue","webpack:///./src/ticketing/views/SendTickets/UpperNav.vue?bff8","webpack:///./src/ticketing/views/SendTickets/UpperNav.vue?36fc","webpack:///src/ticketing/views/SendTickets/index.vue","webpack:///./src/ticketing/views/SendTickets/index.vue?1a6a","webpack:///./src/ticketing/views/SendTickets/index.vue","webpack:///./src/ticketing/views/Profile/UpperNav.vue?13a4"],"names":["render","_vm","this","_h","$createElement","_c","_self","event","ticketSalesActive","attrs","contentId","staticClass","on","$event","preventDefault","purchase","_v","maxTicketCount","model","value","callback","$$v","ticketCount","expression","ticketPriceCents","discountPercent","$v","person","applyCode","staticRenderFns","_s","formatted","name","components","props","count","type","Number","required","price","computed","total","methods","component","firstName","$error","$touch","onInput","details","$set","email","Object","data","$emit","message","validationClasses","code","isLoading","length","onCheck","baseURL","process","apiClient","axios","create","withCredentials","headers","Accept","checkPromoCode","get","beforeMount","promoCode","codeIsValid","validCode","invalidCode","staticStyle","personEmail","_e","invitedBy","_m","purchaseStatus","String","hasTicket","hasInvitedByTicketOffer","hasTicketOffer","hasTicketOffere","TicketOfferSpacesFull","TicketSalesClosed","PageContent","TicketTotal","PersonDetailsForm","PromoCodeForm","Modal","contentName","CONTENT_NAME","isModalActive","validations","pageContent","find","cardModal","$buefy","modal","open","parent","hasModalCard","trapFocus","ticketOffer","params","$route","mixins","personNameMixin","lastName","$store","dispatch","paidFor","invitePaidFor","invitedByName","slot","personName","title","proceedToTicket","TicketOfferForm","UpperNav","needsDetails","Boolean","default","redirectedFromTicket","$router","applicationQuestions","ticketQuestions","ProfileService","profile","purchaseQuantity","allocatedQuantity","_l","invite","key","id","allocationReached","offerTicket","addInvite","notOwnerEmail","$parent","newInvite","receiptUrl","PurchaserTicket","TicketPreview","RecipientDetailsForm","console","log","$snackbar","err","position"],"mappings":"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","file":"js/purchase.290abb29.js","sourcesContent":["export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=style&index=0&lang=css&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (_vm.event.soldOut)?_c('ticket-offer-spaces-full'):(!_vm.event.ticketSalesActive)?_c('ticket-sales-closed'):_c('div',[_c('page-content',{attrs:{\"contentId\":_vm.contentId,\"titleColumns\":9,\"bodyColumns\":8}}),_c('section',{staticClass:\"container\"},[_c('div',{staticClass:\"columns is-centered\"},[_c('div',{staticClass:\"column is-9\"},[_c('form',{on:{\"submit\":function($event){$event.preventDefault();return _vm.purchase()}}},[_c('h2',{staticClass:\"title is-3 mx-3\"},[_vm._v(\"Number of Tickets\")]),_c('b-field',{staticClass:\"column is-5\",attrs:{\"label\":\"How many tickets would you like to buy?\"}},[_c('b-numberinput',{attrs:{\"min\":1,\"max\":_vm.event.maxTicketCount,\"size\":\"is-large\"},model:{value:(_vm.ticketCount),callback:function ($$v) {_vm.ticketCount=$$v},expression:\"ticketCount\"}})],1),_c('TicketTotal',{staticClass:\"mx-3\",attrs:{\"count\":_vm.ticketCount,\"price\":_vm.event.ticketPriceCents,\"discountPercent\":_vm.discountPercent}}),_c('person-details-form',{attrs:{\"$v\":_vm.$v},model:{value:(_vm.person),callback:function ($$v) {_vm.person=$$v},expression:\"person\"}}),_c('promo-code-form',{on:{\"valid-code\":function($event){return _vm.applyCode($event)}}}),_c('b-field',{staticClass:\"column is-6\"},[_c('b-button',{staticClass:\"mt-5\",attrs:{\"native-type\":\"submit\",\"size\":\"is-large\",\"type\":\"is-primary\"}},[_vm._v(\"Purchase\")])],1)],1)])])])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('strong',[_vm._v(\"\\n  \"+_vm._s(_vm.formatted)+\"\\n\")])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <strong>\n    {{ formatted }}\n  </strong>\n</template>\n\n<script>\n\nexport default {\n  name: \"TicketTotal\",\n  components: {\n  },\n  props: {\n    count: {\n      type: Number,\n      required: true\n    },\n    price: {\n      type: Number,\n      required: true\n    },\n    discountPercent: {\n      type: Number,\n      required: true\n    }\n  },\n  computed: {\n    total() {\n      const total = this.count * this.price\n      return this.discountPercent\n        ? (100 - this.discountPercent) / 100.0 * total\n        : total\n    },\n    formatted() {\n      return `$${ Math.round(this.total) / 100}`\n    }\n  },\n  methods: {\n  }\n};\n</script>\n\n<style scoped>\n</style>\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TicketTotal.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TicketTotal.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./TicketTotal.vue?vue&type=template&id=2af3c698&scoped=true&\"\nimport script from \"./TicketTotal.vue?vue&type=script&lang=js&\"\nexport * from \"./TicketTotal.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"2af3c698\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('b-field',{staticClass:\"column is-8\",attrs:{\"label\":\"First Name\",\"type\":{ 'is-danger': _vm.$v.person.firstName.$error },\"message\":_vm.$v.person.firstName.$error ? 'Please enter your first name' : ''}},[_c('b-input',{attrs:{\"placeholder\":\"Leslie\",\"type\":\"text\",\"icon\":\"account\",\"size\":\"is-medium\"},on:{\"blur\":function($event){return _vm.$v.person.firstName.$touch()},\"input\":_vm.onInput},model:{value:(_vm.details.firstName),callback:function ($$v) {_vm.$set(_vm.details, \"firstName\", $$v)},expression:\"details.firstName\"}})],1),_c('b-field',{staticClass:\"column is-8\",attrs:{\"label\":\"Email\",\"type\":{ 'is-danger': _vm.$v.person.email.$error },\"message\":_vm.$v.person.email.$error ? 'Please enter your email' : ''}},[_c('b-input',{attrs:{\"placeholder\":\"francis@example.com\",\"type\":\"email\",\"icon\":\"email\",\"size\":\"is-medium\"},on:{\"blur\":function($event){return _vm.$v.person.email.$touch()},\"input\":_vm.onInput},model:{value:(_vm.details.email),callback:function ($$v) {_vm.$set(_vm.details, \"email\", $$v)},expression:\"details.email\"}})],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div>\n    <b-field\n      label=\"First Name\"\n      class=\"column is-8\"\n      :type=\"{ 'is-danger': $v.person.firstName.$error }\"\n      :message=\"\n        $v.person.firstName.$error ? 'Please enter your first name' : ''\n      \"\n    >\n    <b-input\n        v-model=\"details.firstName\"\n        placeholder=\"Leslie\"\n        @blur=\"$v.person.firstName.$touch()\"\n        @input=\"onInput\"\n        type=\"text\"\n        icon=\"account\"\n        size=\"is-medium\"\n      >\n      </b-input>\n    </b-field>\n\n    <b-field\n      label=\"Email\"\n      class=\"column is-8\"\n      :type=\"{ 'is-danger': $v.person.email.$error }\"\n      :message=\"$v.person.email.$error ? 'Please enter your email' : ''\"\n    >\n      <b-input\n        v-model=\"details.email\"\n        placeholder=\"francis@example.com\"\n        @blur=\"$v.person.email.$touch()\"\n        @input=\"onInput\"\n        type=\"email\"\n        icon=\"email\"\n        size=\"is-medium\"\n      >\n      </b-input>\n    </b-field>\n  </div>\n</template>\n\n<script>\n\nimport { mapGetters } from \"vuex\";\n\nexport default {\n  name: \"PersonDetails\",\n  components: {\n  },\n  props: {\n    value: {\n      type: Object,\n      required: true\n    },\n    $v: {\n      type: Object,\n      required: true\n    }\n  },\n  data() {\n    return {\n      details: { ...this.value }\n    }\n  },\n  methods: {\n    onInput () {\n      this.$emit('input', this.details)\n    }\n  },\n};\n</script>\n\n<style scoped>\n</style>\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PersonDetailsForm.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PersonDetailsForm.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./PersonDetailsForm.vue?vue&type=template&id=11e427fe&scoped=true&\"\nimport script from \"./PersonDetailsForm.vue?vue&type=script&lang=js&\"\nexport * from \"./PersonDetailsForm.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"11e427fe\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('b-field',{staticClass:\"column is-8\",attrs:{\"label\":\"Promo Code\",\"message\":_vm.message,\"type\":_vm.validationClasses}},[_c('b-input',{attrs:{\"type\":\"text\",\"icon\":\"ticket\",\"size\":\"is-medium\"},model:{value:(_vm.code),callback:function ($$v) {_vm.code=$$v},expression:\"code\"}}),_c('p',{staticClass:\"control\"},[_c('b-button',{attrs:{\"type\":_vm.validationClasses,\"label\":\"check code\",\"loading\":_vm.isLoading,\"disabled\":_vm.code.length < 1,\"size\":\"is-medium\",\"outlined\":\"\"},on:{\"click\":_vm.onCheck}})],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import axios from \"axios\";\n\nconst baseURL = process.env.VUE_APP_API_URL;\n\nconst apiClient = axios.create({\n  baseURL: baseURL,\n  withCredentials: false,\n  headers: {\n    Accept: \"application/json\",\n    \"Content-Type\": \"application/json\"\n  }\n});\n\nexport default {\n  checkPromoCode(code) {\n    return apiClient.get(\"/promo_codes/\" + code);\n  },\n};\n\n","<template>\n  <b-field\n    label=\"Promo Code\"\n    class=\"column is-8\"\n    :message=\"message\"\n    :type=\"validationClasses\"\n  >\n  <b-input\n      v-model=\"code\"\n      type=\"text\"\n      icon=\"ticket\"\n      size=\"is-medium\"\n    >\n    </b-input>\n    <p class=\"control\">\n      <b-button\n        @click=\"onCheck\"\n        :type=\"validationClasses\"\n        label=\"check code\"\n        :loading=\"isLoading\"\n        :disabled=\"code.length < 1\"\n        size=\"is-medium\"\n        outlined\n      />\n    </p>\n  </b-field>\n</template>\n\n<script>\nimport PromoCodeService from '@/services/PromoCodeService'\n\n\nexport default {\n  name: \"PromoCodeForm\",\n  beforeMount() {\n    const { promoCode } = this.$route.query\n    if (promoCode) {\n      this.code = promoCode\n      this.onCheck()\n    }\n  },\n  data() {\n    return {\n      code: '',\n      codeIsValid: null,\n      isLoading: false,\n      message: ''\n    }\n  },\n  methods: {\n    onInput () {\n      this.$emit('input', this.details)\n    },\n    async onCheck () {\n      try {\n        this.isLoading = true\n        const { data: { promoCode }} = await PromoCodeService.checkPromoCode(this.code)\n        if (promoCode.isValid) {\n          this.validCode(promoCode.discountPercent)\n        } else {\n          this.invalidCode()\n        }\n        console.log(promoCode)\n      } catch (error) {\n        this.invalidCode()\n      }\n      this.isLoading = false\n    },\n    validCode (discountPercent) {\n      this.codeIsValid = true\n      this.message = 'code is valid.'\n      this.$emit('valid-code', {\n        code: this.code,\n        discountPercent\n        })\n    },\n    invalidCode () {\n      this.codeIsValid = false\n      this.message = 'code is invalid'\n    }\n  },\n  computed: {\n    validationClasses () {\n      return {\n      'is-success': this.codeIsValid === true,\n      'is-danger': this.codeIsValid === false\n      }\n    }\n  }\n};\n</script>\n\n<style scoped>\n</style>\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PromoCodeForm.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PromoCodeForm.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./PromoCodeForm.vue?vue&type=template&id=94de2308&scoped=true&\"\nimport script from \"./PromoCodeForm.vue?vue&type=script&lang=js&\"\nexport * from \"./PromoCodeForm.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"94de2308\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('form',{attrs:{\"action\":\"\"}},[_c('div',{staticClass:\"modal-card\",staticStyle:{\"width\":\"auto\"}},[_c('header',{staticClass:\"modal-card-head\"},[_c('p',{staticClass:\"modal-card-title\"},[_vm._v(\"Login\")]),_c('button',{staticClass:\"delete\",attrs:{\"type\":\"button\"},on:{\"click\":function($event){return _vm.$emit('close')}}})]),_c('section',{staticClass:\"modal-card-body\"},[_c('div',{staticClass:\"content\"},[(_vm.hasTicket)?[_c('p',[_vm._v(_vm._s(_vm.personEmail)+\" already has a ticket to this event.\")])]:_vm._e(),(_vm.hasInvitedByTicketOffer)?[_c('p',[_c('strong',[_vm._v(_vm._s(_vm.invitedBy))]),_vm._v(\" has already bought and shared a ticket\\n            to this email, \"+_vm._s(_vm.personEmail)+\".\\n          \")]),_c('p',[_vm._v(\"\\n            Check your email (and spam folder) for your ticket.\\n          \")])]:_vm._e(),_vm._m(0)],2)]),_c('footer',{staticClass:\"modal-card-foot\"},[_c('b-button',{attrs:{\"label\":\"Ok\"},on:{\"click\":function($event){return _vm.$emit('close')}}})],1)])])}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('p',[_vm._v(\"\\n          If you have any problems email \"),_c('a',{attrs:{\"href\":\"mailto:events@tedxauckland.com\"}},[_vm._v(\"events@tedxauckland.com\")])])}]\n\nexport { render, staticRenderFns }","<template>\n  <form action=\"\">\n    <div class=\"modal-card\" style=\"width: auto\">\n      <header class=\"modal-card-head\">\n        <p class=\"modal-card-title\">Login</p>\n        <button\n          type=\"button\"\n          class=\"delete\"\n          @click=\"$emit('close')\"/>\n      </header>\n      <section class=\"modal-card-body\">\n        <div class=\"content\">\n          <template v-if=\"hasTicket\">\n            <p>{{ personEmail }} already has a ticket to this event.</p>\n          </template>\n          <template v-if=\"hasInvitedByTicketOffer\">\n            <p>\n              <strong>{{ invitedBy }}</strong> has already bought and shared a ticket\n              to this email, {{ personEmail }}.\n            </p>\n            <p>\n              Check your email (and spam folder) for your ticket.\n            </p>\n          </template>\n          <p>\n            If you have any problems email <a href=\"mailto:events@tedxauckland.com\">events@tedxauckland.com</a>\n          </p>\n        </div>\n      </section>\n      <footer class=\"modal-card-foot\">\n        <b-button\n          label=\"Ok\"\n          @click=\"$emit('close')\" />\n      </footer>\n    </div>\n  </form>\n</template>\n\n<script>\n\nexport default {\n  name: \"Modal\",\n  props: {\n    purchaseStatus: {\n      type: Object,\n      required: true\n    },\n    personEmail: {\n      type: String,\n      required: true\n    }\n  },\n  computed: {\n    hasTicket () {\n      return this.purchaseStatus.hasTicket\n    },\n    hasInvitedByTicketOffer () {\n      return this.purchaseStatus.hasInvitedByTicketOffer\n    },\n    invitedBy () {\n      return this.purchaseStatus.invitedBy\n    },\n    hasTicketOffer () {\n      return this.purchaseStatus.hasTicketOffere\n    },\n  }\n};\n</script>\n\n<style scoped>\n</style>\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Modal.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Modal.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Modal.vue?vue&type=template&id=fdc23960&scoped=true&\"\nimport script from \"./Modal.vue?vue&type=script&lang=js&\"\nexport * from \"./Modal.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"fdc23960\",\n  null\n  \n)\n\nexport default component.exports","<template>\n  <ticket-offer-spaces-full v-if=\"event.soldOut\" />\n  <ticket-sales-closed v-else-if=\"!event.ticketSalesActive\" />\n\n  <div v-else>\n    <page-content :contentId=\"contentId\" :titleColumns=\"9\" :bodyColumns=\"8\" />\n\n    <section class=\"container\">\n      <div class=\"columns is-centered\">\n        <div class=\"column is-9\">\n          <form @submit.prevent=\"purchase()\">\n            <h2 class=\"title is-3 mx-3\">Number of Tickets</h2>\n\n            <b-field class=\"column is-5\" label=\"How many tickets would you like to buy?\">\n              <b-numberinput\n                v-model=\"ticketCount\"\n                :min=1\n                :max=\"event.maxTicketCount\"\n                size=\"is-large\" />\n            </b-field>\n\n            <TicketTotal class=\"mx-3\" :count=\"ticketCount\" :price=\"event.ticketPriceCents\" :discountPercent=\"discountPercent\" />\n\n            <person-details-form\n              v-model=\"person\"\n              :$v=\"$v\"\n            />\n\n            <promo-code-form @valid-code=\"applyCode($event)\" />\n\n            <b-field class=\"column is-6\">\n              <b-button class=\"mt-5\" native-type=\"submit\" size=\"is-large\" type=\"is-primary\">Purchase</b-button>\n            </b-field>\n          </form>\n        </div>\n      </div>\n    </section>\n  </div>\n</template>\n\n<script>\nimport NProgress from \"nprogress\";\nimport { required, email } from \"vuelidate/lib/validators\";\nimport { mapGetters } from \"vuex\";\n\nimport TicketOfferSpacesFull from \"@/ticketing/views/TicketOfferSpacesFull\";\nimport TicketSalesClosed from \"@/ticketing/views/TicketSalesClosed\";\nimport PageContent from \"@/ticketing/components/PageContent\";\nimport TicketService from \"@/services/TicketService\";\nimport ProfileService from \"@/services/ProfileService\";\n\nimport TicketTotal from './TicketTotal';\nimport PersonDetailsForm from './PersonDetailsForm.vue';\nimport PromoCodeForm from './PromoCodeForm';\nimport Modal from './Modal';\n\nconst CONTENT_NAME = \"direct_buy_page_content\"\n\nexport default {\n  name: \"Purchase\",\n  components: {\n    TicketOfferSpacesFull,\n    TicketSalesClosed,\n    PageContent,\n    TicketTotal,\n    PersonDetailsForm,\n    PromoCodeForm,\n    Modal\n  },\n  data() {\n    return {\n      contentName: CONTENT_NAME,\n      ticketCount: 1,\n      promoCode: null,\n      discountPercent: 0,\n      isModalActive: false,\n      person: {\n        firstName: \"\",\n        email: \"\"\n      }\n    };\n  },\n  validations: {\n    person: {\n      firstName: { required },\n      email: { required, email }\n    }\n  },\n  computed: {\n    ...mapGetters({\n      event: \"events/event\",\n      content: \"content/contentByField\"\n    }),\n    contentId() {\n      return this.event.pageContent.find(c => c[0] === this.contentName)[1];\n    },\n  },\n  methods: {\n    applyCode (event) {\n      this.promoCode = event.code\n      this.discountPercent = event.discountPercent\n    },\n    async purchase () {\n      this.$v.$touch()\n\n      if (!this.$v.$invalid) {\n        const personData = {\n          firstName: this.person.firstName,\n          email: this.person.email\n        }\n\n        const {\n          data: { person: { id: personId }}\n        } = await ProfileService.createOrUpdateProfile(personData)\n\n        const {\n          data: {\n            ticketOffer: { id: ticketOfferId }\n          }\n        } = await TicketService.createTicketOffer(\n          this.event.slug,\n          {\n            personId,\n            ticketCount: this.ticketCount,\n            purchaseQuantity: this.ticketCount\n          }\n        )\n\n        const { data : { purchaseStatus }} = await ProfileService\n          .checkPurchaseStatus(personId, this.event.id)\n\n        if (purchaseStatus.hasInvitedByTicketOffer || purchaseStatus.hasTicket) {\n          this.cardModal(purchaseStatus, personData.email)\n          return\n        }\n        this.checkout(ticketOfferId)\n      }\n    },\n    async checkout(ticketOfferId) {\n      NProgress.start();\n\n      const response = await TicketService.createStripeSessionPurchaseQuantity({\n        ticketOfferId,\n        eventId: this.event.id,\n        promoCode: this.promoCode\n      })\n\n      const publishableKey = process.env.VUE_APP_STRIPE_KEY;\n\n      const stripe = Stripe(publishableKey);\n\n      const stripeResult = await stripe.redirectToCheckout({\n          sessionId: response.data.stripeSessionId\n        })\n        // If `redirectToCheckout` fails due to a browser or network\n        // error, display the localized error message to your customer\n        // using `stripeResult.error.message`.\n    },\n    cardModal(purchaseStatus, personEmail) {\n      this.$buefy.modal.open({\n        parent: this,\n        component: Modal,\n        hasModalCard: true,\n        trapFocus: true,\n        props: {\n          purchaseStatus,\n          personEmail\n        }\n      })\n    }\n  }\n};\n</script>\n\n<style scoped>\n.add-button {\n  margin-right: 1rem;\n}\n</style>\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=8cafd790&scoped=true&\"\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\nimport style0 from \"./index.vue?vue&type=style&index=0&id=8cafd790&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"8cafd790\",\n  null\n  \n)\n\nexport default component.exports","export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UpperNav.vue?vue&type=style&index=0&id=db2997d8&scoped=true&lang=css&\"","export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=style&index=0&id=8cafd790&scoped=true&lang=css&\"","export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TicketPreview.vue?vue&type=style&index=0&lang=scss&\"","export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UpperNav.vue?vue&type=style&index=0&id=0c02edde&scoped=true&lang=css&\"","export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./RecipientDetailsForm.vue?vue&type=style&index=0&lang=scss&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('section',{staticClass:\"container\"},[_c('upper-nav',{attrs:{\"ticketOffer\":_vm.ticketOffer}}),_c('ticket',{attrs:{\"person\":_vm.person,\"event\":_vm.event,\"ticketOffer\":_vm.ticketOffer}}),_c('section',{staticClass:\"section\"},[_c('page-content',{staticClass:\"hide-print\",attrs:{\"contentId\":_vm.contentId}})],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('nav',[_c('router-link',{staticClass:\"button is-primary is-large\",attrs:{\"to\":{\n      name: 'update-profile',\n      params: _vm.$route.params\n    }}},[_vm._v(\"\\n    Update Profile\\n  \")]),(!_vm.ticketOffer.invitedBy)?_c('router-link',{staticClass:\"button is-primary is-large\",attrs:{\"to\":{\n      name: 'manage-tickets',\n      params: _vm.$route.params\n    }}},[_vm._v(\"\\n    Manage Tickets\\n  \")]):_vm._e()],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n    <nav>\n      <router-link\n      :to=\"{\n          name: 'update-profile',\n          params: $route.params\n        }\"\n        class=\"button is-primary is-large\">\n        Update Profile\n      </router-link>\n      <router-link\n      v-if=\"!ticketOffer.invitedBy\"\n      :to=\"{\n          name: 'manage-tickets',\n          params: $route.params\n        }\"\n        class=\"button is-primary is-large\">\n        Manage Tickets\n      </router-link>\n    </nav>\n</template>\n\n<script>\n\nexport default {\n  name: \"UpperNav\",\n  props: {\n    ticketOffer: {\n      type: Object,\n      required: true\n    }\n  }\n};\n</script>\n\n<style scoped>\nnav {\n  width: 100%;\n  display: flex;\n  justify-content: flex-start;\n  padding: 1rem 2rem 2rem 2rem;\n}\nnav a {\n  margin-left: 1rem;\n}\n\nnav a:first-child {\n  margin-left: 0;\n}\n</style>\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UpperNav.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UpperNav.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./UpperNav.vue?vue&type=template&id=0c02edde&scoped=true&\"\nimport script from \"./UpperNav.vue?vue&type=script&lang=js&\"\nexport * from \"./UpperNav.vue?vue&type=script&lang=js&\"\nimport style0 from \"./UpperNav.vue?vue&type=style&index=0&id=0c02edde&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"0c02edde\",\n  null\n  \n)\n\nexport default component.exports","<template>\n  <section class=\"container\">\n    <upper-nav :ticketOffer=\"ticketOffer\" />\n\n    <ticket :person=\"person\" :event=\"event\" :ticketOffer=\"ticketOffer\" />\n\n    <section class=\"section\">\n      <page-content class=\"hide-print\" :contentId=\"contentId\" />\n    </section>\n  </section>\n</template>\n\n<script>\nimport NProgress from \"nprogress\";\nimport Ticket from \"@/components/Ticket\";\nimport PageContent from \"@/ticketing/components/PageContent\";\nimport ProfileService from \"@/services/ProfileService\";\nimport UpperNav from \"./UpperNav\"\nimport { personNameMixin } from \"@/mixins/personNameMixin\";\nimport { required, email } from \"vuelidate/lib/validators\";\nimport { mapGetters } from \"vuex\";\n\nexport default {\n  name: \"TicketOfferPurchased\",\n  components: { PageContent, Ticket, UpperNav },\n  mixins: [personNameMixin],\n  validations: {\n    person: {\n      firstName: { required },\n      lastName: { required },\n      email: { required, email }\n    }\n  },\n  beforeMount() {\n    this.$store.dispatch(\"layouts/setBannerVisibility\", false);\n  },\n  data() {\n    return {\n      contentName: \"purchased_page_content\"\n    };\n  },\n  computed: {\n    ...mapGetters([\"dietaryRequirements\", \"accessabilityRequirements\"]),\n    ...mapGetters({\n      event: \"events/event\",\n      person: \"people/person\",\n      ticketOffer: \"ticketOffers/ticketOffer\"\n    }),\n    contentId() {\n      return this.event.pageContent.find(c => c[0] === this.contentName)[1];\n    },\n    paidFor() {\n      return this.ticketOffer.invitePaidFor;\n    },\n    invitedBy() {\n      return this.ticketOffer.invitedBy;\n    },\n    invitedByName() {\n      return `${this.invitedBy.firstName} ${this.invitedBy.lastName}`;\n    },\n  },\n};\n</script>\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=a7de1cde&\"\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PurchaserTicket.vue?vue&type=style&index=0&lang=scss&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('section',{staticClass:\"container\"},[(!_vm.ticketOffer.invitedBy)?_c('upper-nav'):_vm._e(),(_vm.needsDetails)?_c('section',{staticClass:\"section\"},[_vm._m(0)]):_vm._e(),_c('page-content',{attrs:{\"contentId\":_vm.contentId}},[(_vm.ticketOffer.invitePaidFor)?_c('template',{slot:\"beforeContent\"},[_c('p',[_vm._v(\"\\n        Hi \"+_vm._s(_vm.personName)+\", \"+_vm._s(_vm.invitedByName)+\" has bought you a ticket to\\n        \"+_vm._s(_vm.event.title)+\", we just need a few details before you can claim\\n        your ticket.\\n      \")]),_c('p',[_vm._v(\"Please fill in the form below\")])]):_c('template',{slot:\"beforeContent\"},[_c('p',[_vm._v(\"\\n        Hi \"),_c('strong',[_vm._v(_vm._s(_vm.personName))]),_vm._v(\", Please update your details below to receive your ticket for\\n        \"),_c('strong',[_vm._v(\"\\n        \"+_vm._s(_vm.event.title)+\"\\n        \")]),_vm._v(\".\\n      \")])])],2),_c('ticket-offer-form',{attrs:{\"submitText\":\"update profile\"},on:{\"submitForm\":_vm.proceedToTicket}})],1)}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"content has-text-centered\"},[_c('p',[_vm._v(\"Please fill in your details to get your ticket\")])])}]\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('nav',[_c('router-link',{staticClass:\"button is-primary is-large\",attrs:{\"to\":{\n      name: 'manage-tickets',\n      params: _vm.$route.params\n    }}},[_vm._v(\"\\n    Back\\n  \")])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n    <nav>\n      <router-link\n      :to=\"{\n          name: 'manage-tickets',\n          params: $route.params\n        }\"\n        class=\"button is-primary is-large\">\n        Back\n      </router-link>\n    </nav>\n</template>\n\n<script>\n\nexport default {\n  name: \"UpperNav\",\n};\n</script>\n\n<style scoped>\nnav {\n  width: 100%;\n  display: flex;\n  justify-content: space-between;\n  padding: 1rem 2rem 2rem 2rem;\n}\n</style>\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UpperNav.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UpperNav.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./UpperNav.vue?vue&type=template&id=fd8f815c&scoped=true&\"\nimport script from \"./UpperNav.vue?vue&type=script&lang=js&\"\nexport * from \"./UpperNav.vue?vue&type=script&lang=js&\"\nimport style0 from \"./UpperNav.vue?vue&type=style&index=0&id=fd8f815c&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"fd8f815c\",\n  null\n  \n)\n\nexport default component.exports","<template>\n  <section class=\"container\">\n    <upper-nav v-if=\"!ticketOffer.invitedBy\" />\n\n    <section v-if=\"needsDetails\" class=\"section\">\n      <div class=\"content has-text-centered\">\n        <p>Please fill in your details to get your ticket</p>\n      </div>\n    </section>\n\n    <page-content :contentId=\"contentId\">\n      <template v-if=\"ticketOffer.invitePaidFor\" slot=\"beforeContent\">\n        <p>\n          Hi {{ personName }}, {{ invitedByName }} has bought you a ticket to\n          {{ event.title }}, we just need a few details before you can claim\n          your ticket.\n        </p>\n        <p>Please fill in the form below</p>\n      </template>\n      <template v-else slot=\"beforeContent\">\n        <p>\n          Hi <strong>{{ personName }}</strong>, Please update your details below to receive your ticket for\n          <strong>\n          {{ event.title }}\n          </strong>.\n        </p>\n      </template>\n    </page-content>\n\n    <ticket-offer-form @submitForm=\"proceedToTicket\" submitText=\"update profile\" />\n  </section>\n</template>\n\n<script>\nimport PageContent from \"@/ticketing/components/PageContent\";\nimport TicketOfferForm from \"@/ticketing/views/TicketOfferForm\";\nimport ProfileService from \"@/services/ProfileService\";\nimport NProgress from \"nprogress\";\nimport UpperNav from \"./UpperNav\";\nimport { personNameMixin } from \"@/mixins/personNameMixin\";\nimport { markdownSubstitutionsMixin } from \"@/mixins/markdownSubstitutionsMixin\";\nimport { mapGetters } from \"vuex\";\n\nexport default {\n  name: \"Profile\",\n  components: {\n    PageContent,\n    TicketOfferForm,\n    UpperNav,\n  },\n  beforeMount() {\n    this.$store.dispatch(\"layouts/setBannerVisibility\", true);\n  },\n  mixins: [personNameMixin, markdownSubstitutionsMixin],\n  props: {\n    needsDetails: {\n      type: Boolean,\n      default: false\n    }\n  },\n  data() {\n    return {\n      contentName: \"ticket_offer_page_content\"\n    };\n  },\n  computed: {\n    ...mapGetters({\n      event: \"events/event\",\n      person: \"people/person\",\n      ticketOffer: \"ticketOffers/ticketOffer\"\n    }),\n    contentId() {\n      return this.event.pageContent.find(c => c[0] === this.contentName)[1];\n    },\n\n    invitedByName() {\n      const { firstName, lastName } = this.ticketOffer.invitedBy\n      return lastName\n        ? `${ firstName } ${lastName}`\n        : firstName\n    },\n    redirectedFromTicket() {\n      return this.$router\n    },\n    applicationQuestions() {\n      return this.person.data;\n    },\n    ticketQuestions() {\n      return this.person.data;\n    }\n  },\n\n  methods: {\n    proceedToTicket() {\n      ProfileService.updateProfile(this.person.id, {\n        person: {\n          firstName: this.person.firstName,\n          lastName: this.person.lastName,\n          email: this.person.email\n        },\n        profile: {\n          ...this.applicationQuestions,\n          ...this.ticketQuestions\n        }\n      })\n        .then(() => {\n          this.$emit(\"recalcNeeded\");\n          NProgress.done();\n          this.$router.push({\n            name: 'ticket',\n            params: this.$route.params }\n          )\n        })\n        .catch(e => {\n          NProgress.done();\n          console.log(\"ERROR\", e);\n        });\n    }\n  }\n};\n</script>\n\n<style>\n.link {\n  text-decoration: underline;\n}\n</style>\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=06d628c6&\"\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\nimport style0 from \"./index.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('section',{staticClass:\"container\"},[_c('page-content',{attrs:{\"contentId\":_vm.contentId,\"titleColumns\":9,\"bodyColumns\":8}},[_c('template',{slot:\"beforeContent\"},[_c('p',[_vm._v(\"\\n        You purchased \"),_c('strong',[_vm._v(_vm._s(_vm.purchaseQuantity))]),_vm._v(\" tickets\\n        and \"),_c('strong',[_vm._v(_vm._s(_vm.allocatedQuantity))]),_vm._v(\" are allocated.\\n      \")])])],2),_c('upper-nav',{attrs:{\"ticketOffer\":_vm.ticketOffer}}),_c('div',{staticClass:\"ticket-preview column mb-6\"},[_c('h2',{staticClass:\"title is-2\"},[_vm._v(\"Your Ticket\")]),_c('purchaser-ticket',{attrs:{\"person\":_vm.person}})],1),(_vm.ticketOffer.ticketCount > 1)?_c('div',{staticClass:\"ticket-preview column is-clearfix\"},[_c('h2',{staticClass:\"title is-2\"},[_vm._v(\"Shared Tickets\")]),_vm._l((_vm.invites),function(invite){return _c('ticket-preview',{key:invite.id,attrs:{\"person\":invite}})}),(!_vm.allocationReached)?_c('recipient-details-form',{staticClass:\"mt-6\",attrs:{\"allocationReached\":_vm.allocationReached},on:{\"add-invite\":function($event){return _vm.offerTicket($event)}}}):_vm._e()],2):_vm._e()],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"ticket-preview columns\"},[_c('div',{staticClass:\"column\"},[_c('h3',{staticClass:\"title is-4\"},[_vm._v(_vm._s(_vm.person.firstName)+\" \"+_vm._s(_vm.person.lastName))]),_c('h3',{staticClass:\"subtitle is-4\"},[_vm._v(_vm._s(_vm.person.email))])]),_c('div',{staticClass:\"column\"},[_c('router-link',{staticClass:\"button is-primary is-large is-pulled-right\",attrs:{\"to\":{\n        name: 'ticket',\n        params: _vm.$route.params\n      }}},[_vm._v(\"\\n      Ticket Link\\n    \")])],1)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"ticket-preview columns\">\n    <div class=\"column\">\n      <h3 class=\"title is-4\">{{ person.firstName }} {{ person.lastName }}</h3>\n      <h3 class=\"subtitle is-4\">{{ person.email }}</h3>\n    </div>\n    <div class=\"column\">\n      <router-link\n        :to=\"{\n          name: 'ticket',\n          params: $route.params\n        }\"\n        class=\"button is-primary is-large is-pulled-right\">\n        Ticket Link\n      </router-link>\n    </div>\n  </div>\n</template>\n\n<script>\nexport default {\n  name: \"PurchaserTicket\",\n  props: {\n    person: {\n      type: Object,\n      required: true\n    },\n  },\n};\n</script>\n\n<style lang=\"scss\">\n@import \"@/assets/scss/buefy-init.scss\";\n\n.ticket-preview {\n  border: 3px dashed $primary;\n  padding: 2rem;\n  margin: 1rem;\n}\n</style>\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PurchaserTicket.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PurchaserTicket.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./PurchaserTicket.vue?vue&type=template&id=b0d7bfbe&\"\nimport script from \"./PurchaserTicket.vue?vue&type=script&lang=js&\"\nexport * from \"./PurchaserTicket.vue?vue&type=script&lang=js&\"\nimport style0 from \"./PurchaserTicket.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"ticket-preview column\"},[_c('h3',{staticClass:\"title is-4\"},[_vm._v(_vm._s(_vm.person.firstName)+\" \"+_vm._s(_vm.person.lastName))]),_c('h3',{staticClass:\"subtitle is-4\"},[_vm._v(_vm._s(_vm.person.email))])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"ticket-preview column\">\n    <h3 class=\"title is-4\">{{ person.firstName }} {{ person.lastName }}</h3>\n    <h3 class=\"subtitle is-4\">{{ person.email }}</h3>\n  </div>\n</template>\n\n<script>\nexport default {\n  name: \"TicketPreview\",\n  props: {\n    person: {\n      type: Object,\n      required: true\n    },\n  }\n};\n</script>\n\n<style lang=\"scss\">\n@import \"@/assets/scss/buefy-init.scss\";\n\n.ticket-preview {\n  border: 3px dashed $primary;\n  padding: 2rem;\n  margin: 1rem;\n}\n</style>\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TicketPreview.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TicketPreview.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./TicketPreview.vue?vue&type=template&id=7f908b3e&\"\nimport script from \"./TicketPreview.vue?vue&type=script&lang=js&\"\nexport * from \"./TicketPreview.vue?vue&type=script&lang=js&\"\nimport style0 from \"./TicketPreview.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"ticket-preview column is-clearfix\"},[_c('h3',{staticClass:\"title is-4\"},[_vm._v(\"Share Ticket To\")]),_c('b-field',{attrs:{\"label\":\"First Name\",\"horizontal\":\"\",\"type\":{ 'is-danger': _vm.$v.invite.firstName.$error },\"message\":_vm.$v.invite.firstName.$error ? 'Please enter your first name' : ''}},[_c('b-input',{attrs:{\"placeholder\":\"Leslie\",\"disabled\":_vm.allocationReached,\"type\":\"text\",\"icon\":\"account\"},on:{\"blur\":function($event){return _vm.$v.invite.firstName.$touch()}},model:{value:(_vm.invite.firstName),callback:function ($$v) {_vm.$set(_vm.invite, \"firstName\", $$v)},expression:\"invite.firstName\"}})],1),_c('b-field',{attrs:{\"label\":\"Last Name\",\"horizontal\":\"\",\"type\":{ 'is-danger': _vm.$v.invite.lastName.$error },\"message\":_vm.$v.invite.lastName.$error ? 'Please enter your last name' : ''}},[_c('b-input',{attrs:{\"placeholder\":\"Miles\",\"disabled\":_vm.allocationReached,\"type\":\"text\",\"icon\":\"account\"},on:{\"blur\":function($event){return _vm.$v.invite.lastName.$touch()}},model:{value:(_vm.invite.lastName),callback:function ($$v) {_vm.$set(_vm.invite, \"lastName\", $$v)},expression:\"invite.lastName\"}})],1),_c('b-field',{attrs:{\"label\":\"Email\",\"horizontal\":\"\",\"type\":{ 'is-danger': _vm.$v.invite.email.$error },\"message\":_vm.$v.invite.email.$error ? 'Please enter the email of the person you\\'re inviting' : ''}},[_c('b-input',{attrs:{\"placeholder\":\"francis@example.com\",\"disabled\":_vm.allocationReached,\"type\":\"email\",\"icon\":\"email\"},on:{\"blur\":function($event){return _vm.$v.invite.email.$touch()}},model:{value:(_vm.invite.email),callback:function ($$v) {_vm.$set(_vm.invite, \"email\", $$v)},expression:\"invite.email\"}})],1),_c('button',{staticClass:\"add-button button is-primary is-medium is-pulled-right\",attrs:{\"type\":\"button\",\"disabled\":_vm.allocationReached},on:{\"click\":function($event){$event.preventDefault();return _vm.addInvite($event)}}},[_vm._v(\"\\n    Send Ticket\\n  \")])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"ticket-preview column is-clearfix\">\n    <h3 class=\"title is-4\">Share Ticket To</h3>\n\n    <b-field\n      label=\"First Name\"\n      horizontal\n      :type=\"{ 'is-danger': $v.invite.firstName.$error }\"\n      :message=\"\n        $v.invite.firstName.$error ? 'Please enter your first name' : ''\n      \"\n    >\n      <b-input\n        v-model=\"invite.firstName\"\n        placeholder=\"Leslie\"\n        :disabled=\"allocationReached\"\n        @blur=\"$v.invite.firstName.$touch()\"\n        type=\"text\"\n        icon=\"account\"\n      >\n      </b-input>\n    </b-field>\n\n    <b-field\n      label=\"Last Name\"\n      horizontal\n      :type=\"{ 'is-danger': $v.invite.lastName.$error }\"\n      :message=\"$v.invite.lastName.$error ? 'Please enter your last name' : ''\"\n    >\n      <b-input\n        v-model=\"invite.lastName\"\n        placeholder=\"Miles\"\n        :disabled=\"allocationReached\"\n        @blur=\"$v.invite.lastName.$touch()\"\n        type=\"text\"\n        icon=\"account\"\n      >\n      </b-input>\n    </b-field>\n\n    <b-field\n      label=\"Email\"\n      horizontal\n      :type=\"{ 'is-danger': $v.invite.email.$error }\"\n      :message=\"$v.invite.email.$error ? 'Please enter the email of the person you\\'re inviting' : ''\"\n    >\n      <b-input\n        v-model=\"invite.email\"\n        placeholder=\"francis@example.com\"\n        :disabled=\"allocationReached\"\n        @blur=\"$v.invite.email.$touch()\"\n        type=\"email\"\n        icon=\"email\"\n      >\n      </b-input>\n    </b-field>\n\n    <button\n      class=\"add-button button is-primary is-medium is-pulled-right\"\n      type=\"button\"\n      :disabled=\"allocationReached\"\n      @click.prevent=\"addInvite\"\n    >\n      Send Ticket\n    </button>\n  </div>\n</template>\n\n<script>\nimport { required, email, not, sameAs } from \"vuelidate/lib/validators\";\nimport { mapState } from \"vuex\";\n\nfunction notOwnerEmail(model) {\n  return model !== this.$parent.person.email\n}\n\nexport default {\n  name: \"RecipientDetailsForm\",\n  props: {\n    allocationReached: {\n      type: Boolean,\n      required: true\n    }\n  },\n  data() {\n    return {\n      invite: { ...this.newInvite, paidFor: true }\n    };\n  },\n  validations: {\n    invite: {\n      firstName: { required },\n      lastName: { required },\n      email: {\n        required,\n        email,\n        notOwnerEmail\n    }\n  },\n  computed: {\n    ...mapState({\n      newInvite: \"invites/newInvite\"\n    })\n  },\n  methods: {\n    addInvite() {\n      this.$v.$touch();\n      if (!this.$v.$invalid) {\n        this.$emit(\"add-invite\", this.invite);\n        this.invite = { ...this.newInvite, paidFor: true };\n        this.$v.$reset();\n      }\n    }\n  }\n}}\n</script>\n\n<style lang=\"scss\">\n@import \"@/assets/scss/buefy-init.scss\";\n\n.ticket-preview {\n  position: relative;\n  border: 3px dashed $primary;\n  padding: 2rem;\n  margin: 1rem;\n}\n</style>\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./RecipientDetailsForm.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./RecipientDetailsForm.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./RecipientDetailsForm.vue?vue&type=template&id=46c95eac&\"\nimport script from \"./RecipientDetailsForm.vue?vue&type=script&lang=js&\"\nexport * from \"./RecipientDetailsForm.vue?vue&type=script&lang=js&\"\nimport style0 from \"./RecipientDetailsForm.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('nav',[_c('router-link',{staticClass:\"button is-primary is-large\",attrs:{\"to\":{\n      name: 'update-profile',\n      params: _vm.$route.params\n    }}},[_vm._v(\"\\n    Update Profile\\n  \")]),(!_vm.ticketOffer.invitePaidFor)?_c('a',{staticClass:\"button is-secondary is-large\",attrs:{\"href\":_vm.receiptUrl,\"target\":\"_blank\",\"rel\":\"noopener noreferrer\"}},[_vm._v(\"\\n    GST Receipt\\n  \")]):_vm._e()],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n    <nav>\n      <router-link\n      :to=\"{\n          name: 'update-profile',\n          params: $route.params\n        }\"\n        class=\"button is-primary is-large\">\n        Update Profile\n      </router-link>\n      <a :href=\"receiptUrl\"\n        v-if=\"!ticketOffer.invitePaidFor\"\n        target=\"_blank\"\n        class=\"button is-secondary is-large\"\n        rel=\"noopener noreferrer\">\n        GST Receipt\n      </a>\n    </nav>\n</template>\n\n<script>\n\nexport default {\n  name: \"UpperNav\",\n  props: {\n    ticketOffer: {\n      type: Object,\n      required: true\n    }\n  },\n  computed: {\n    receiptUrl() {\n      const baseURL = process.env.VUE_APP_PDF_BASE_URL\n      return `${baseURL}/receipts/${this.ticketOffer.id}`\n    }\n  }\n};\n</script>\n\n<style scoped>\nnav {\n  width: 100%;\n  display: flex;\n  padding: 1rem 2rem 2rem 2rem;\n}\n</style>\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UpperNav.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UpperNav.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./UpperNav.vue?vue&type=template&id=db2997d8&scoped=true&\"\nimport script from \"./UpperNav.vue?vue&type=script&lang=js&\"\nexport * from \"./UpperNav.vue?vue&type=script&lang=js&\"\nimport style0 from \"./UpperNav.vue?vue&type=style&index=0&id=db2997d8&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"db2997d8\",\n  null\n  \n)\n\nexport default component.exports","<template>\n  <section class=\"container\">\n    <page-content :contentId=\"contentId\" :titleColumns=\"9\" :bodyColumns=\"8\" >\n      <template slot=\"beforeContent\">\n        <p>\n          You purchased <strong>{{ purchaseQuantity }}</strong> tickets\n          and <strong>{{ allocatedQuantity }}</strong> are allocated.\n        </p>\n      </template>\n    </page-content>\n\n    <upper-nav :ticketOffer=\"ticketOffer\" />\n\n    <div class=\"ticket-preview column mb-6\">\n      <h2 class=\"title is-2\">Your Ticket</h2>\n      <purchaser-ticket :person=\"person\" />\n    </div>\n\n    <div v-if=\"ticketOffer.ticketCount > 1\" class=\"ticket-preview column is-clearfix\">\n\n      <h2 class=\"title is-2\">Shared Tickets</h2>\n\n      <ticket-preview\n        v-for=\"invite in invites\"\n        :key=\"invite.id\"\n        :person=\"invite\"\n      />\n\n        <recipient-details-form\n          v-if=\"!allocationReached\"\n          class=\"mt-6\"\n          :allocationReached=\"allocationReached\"\n          @add-invite=\"offerTicket($event)\"\n        />\n    </div>\n  </section>\n</template>\n\n<script>\nimport { required, email } from \"vuelidate/lib/validators\";\nimport { mapGetters, mapActions } from \"vuex\";\n\nimport PageContent from \"@/ticketing/components/PageContent\";\nimport PurchaserTicket from \"./PurchaserTicket\";\nimport TicketPreview from \"./TicketPreview\"\nimport RecipientDetailsForm from \"./RecipientDetailsForm\";\nimport UpperNav from './UpperNav.vue';\n\nconst CONTENT_NAME = \"invite_page_content\"\n\nexport default {\n  name: \"SendTickets\",\n  components: {\n    PageContent,\n    PurchaserTicket,\n    TicketPreview,\n    RecipientDetailsForm,\n    UpperNav,\n  },\n  beforeMount() {\n    this.$store.dispatch(\"layouts/setBannerVisibility\", true);\n  },\n  data() {\n    return {\n      contentName: CONTENT_NAME,\n    };\n  },\n  validations: {\n    person: {\n      firstName: { required },\n      email: { required, email }\n    }\n  },\n  methods: {\n    ...mapActions({\n      addInvite: \"invites/addInvite\"\n    }),\n\n    offerTicket(invite) {\n      if (this.allocationReached) return\n\n      console.log(invite)\n\n      try {\n        this.addInvite(invite)\n      } catch (err) {\n        this.$snackbar.open({\n          message: err,\n          type: \"is-danger\",\n          position: \"is-bottom-left\"\n        });\n      }\n    }\n  },\n  computed: {\n    ...mapGetters({\n      event: \"events/event\",\n      ticketOffer: \"ticketOffers/ticketOffer\",\n      content: \"content/contentByField\",\n      invites: \"invites/invites\",\n      allocationReached: \"invites/allocationReached\",\n      person: \"people/person\",\n      purchaseQuantity: \"invites/purchaseQuantity\",\n      allocatedQuantity: \"invites/allocatedQuantity\"\n    }),\n    contentId() {\n      return this.event.pageContent.find(c => c[0] === this.contentName)[1];\n    },\n  },\n};\n</script>\n\n<style scoped>\n</style>\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=a3d88f4a&scoped=true&\"\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"a3d88f4a\",\n  null\n  \n)\n\nexport default component.exports","export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UpperNav.vue?vue&type=style&index=0&id=fd8f815c&scoped=true&lang=css&\""],"sourceRoot":""}