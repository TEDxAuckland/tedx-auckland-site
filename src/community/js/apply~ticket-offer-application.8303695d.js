(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["apply~ticket-offer-application"],{"0527":function(e,t,n){"use strict";var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("fieldset",[n("b-field",{attrs:{label:"First Name",type:{"is-danger":e.$v.person.firstName.$error},message:e.$v.person.firstName.$error?"Please enter your first name":""}},[n("b-input",{attrs:{placeholder:"Leslie",type:"text",icon:"account"},on:{blur:function(t){return e.$v.person.firstName.$touch()}},model:{value:e.person.firstName,callback:function(t){e.$set(e.person,"firstName",t)},expression:"person.firstName"}})],1),n("b-field",{attrs:{label:"Last Name",type:{"is-danger":e.$v.person.lastName.$error},message:e.$v.person.lastName.$error?"Please enter your last name":""}},[n("b-input",{attrs:{placeholder:"Miles",type:"text",icon:"account"},on:{blur:function(t){return e.$v.person.lastName.$touch()}},model:{value:e.person.lastName,callback:function(t){e.$set(e.person,"lastName",t)},expression:"person.lastName"}})],1),n("b-field",{attrs:{label:"Email",type:{"is-danger":e.$v.person.email.$error},message:e.$v.person.email.$error?"Please enter your email":""}},[n("b-input",{attrs:{placeholder:"francis@example.com",type:"email",icon:"email"},on:{blur:function(t){return e.$v.person.email.$touch()}},model:{value:e.person.email,callback:function(t){e.$set(e.person,"email",t)},expression:"person.email"}})],1)],1)},r=[],s={name:"PersonInfo",props:{person:{type:Object,required:!0},$v:{type:Object,required:!1}},methods:{}},a=s,o=n("2877"),c=Object(o["a"])(a,i,r,!1,null,"73ba3ac4",null);t["a"]=c.exports},"07c7":function(e,t,n){},"16c3":function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"c",(function(){return s})),n.d(t,"a",(function(){return a})),n.d(t,"f",(function(){return o})),n.d(t,"d",(function(){return c})),n.d(t,"e",(function(){return u}));var i=n("b5ae"),r={data:function(){return{person:{id:this.personInit?this.personInit.id:"",firstName:this.personInit?this.personInit.firstName:"",lastName:this.personInit?this.personInit.lastName:"",email:this.personInit?this.personInit.email:"",data:this.personInit?this.personInit.data:{}}}}},s={firstName:{required:i["required"]},lastName:{required:i["required"]},email:{required:i["required"],email:i["email"]}},a={yearOfBirth:{required:i["required"],integer:i["integer"]},gender:{required:i["required"]},eventsAttendedBool:{},occupation:{required:i["required"]}},o=[{dietaryRequirements:{},accessabilityRequirements:{}},{dietaryRequirements:{},accessabilityRequirements:{}}],c={data:function(){return{ticketDetails:{dietaryRequirements:this.personInit&&this.personInit.data&&this.personInit.data.dietaryRequirements?this.personInit.data.dietaryRequirements:[]}}}},u={dietaryRequirements:{}}},2964:function(e,t,n){"use strict";var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("fieldset",[n("b-field",{attrs:{label:"Year of Birth",type:{"is-danger":e.validations.yearOfBirth.$error}}},[n("b-select",{attrs:{type:"text",expanded:""},on:{blur:function(t){return e.validations.gender.$touch()}},model:{value:e.value.yearOfBirth,callback:function(t){e.$set(e.value,"yearOfBirth",e._n(t))},expression:"value.yearOfBirth"}},[n("option",{attrs:{selected:"",disabled:""}},[e._v("Choose One")]),e._l(e.birthYears,(function(t){return n("option",{key:t,domProps:{value:t}},[e._v("\n          "+e._s(t)+"\n        ")])}))],2)],1),n("b-field",{attrs:{label:"Gender",type:{"is-danger":e.validations.gender.$error}}},[n("b-select",{attrs:{type:"text",expanded:""},on:{blur:function(t){return e.validations.gender.$touch()}},model:{value:e.value.gender,callback:function(t){e.$set(e.value,"gender",e._n(t))},expression:"value.gender"}},[n("option",{attrs:{selected:"",disabled:""}},[e._v("Choose One")]),e._l(e.genders,(function(t){return n("option",{key:t,domProps:{value:t}},[e._v("\n          "+e._s(t)+"\n        ")])}))],2)],1),n("b-field",{attrs:{label:"What is your occupation?",type:{"is-danger":e.validations.occupation.$error}}},[n("b-input",{attrs:{type:"text"},on:{blur:function(t){return e.validations.occupation.$touch()}},model:{value:e.value.occupation,callback:function(t){e.$set(e.value,"occupation",e._n(t))},expression:"value.occupation"}})],1),n("fieldset",[n("b-field",{attrs:{label:"Have you attended TEDxAuckland before?"}},[n("div",{staticClass:"checkbox-row"},[n("b-radio",{staticClass:"checkbox-column",attrs:{"native-value":"true"},model:{value:e.value.eventsAttendedBool,callback:function(t){e.$set(e.value,"eventsAttendedBool",t)},expression:"value.eventsAttendedBool"}},[e._v("\n            Yes\n          ")]),n("b-radio",{staticClass:"checkbox-column",attrs:{"native-value":"false"},model:{value:e.value.eventsAttendedBool,callback:function(t){e.$set(e.value,"eventsAttendedBool",t)},expression:"value.eventsAttendedBool"}},[e._v("\n            No\n          ")])],1)])],1)],1)},r=[],s={name:"ApplicationQuestions",props:{value:{type:Object,required:!0},validations:{type:Object,required:!0}},computed:{birthYears:function(){return this.$store.state.birthYears},genders:function(){return this.$store.state.genders}},methods:{}},a=s,o=n("2877"),c=Object(o["a"])(a,i,r,!1,null,null,null);t["a"]=c.exports},"5a0b":function(e,t,n){"use strict";var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"section"},[e.ticketOffer.invitedBy?n("page-content",{attrs:{contentId:e.contentId}},[e.ticketOffer.invitePaidFor?n("template",{slot:"beforeContent"},[n("p",[e._v("\n        Hi "+e._s(e.personName)+", "+e._s(e.invitedByName)+" has bought you a ticket to\n        "+e._s(e.event.title)+", we just need a few details before you can claim\n        your ticket.\n      ")]),n("p",[e._v("Please fill in the form below")])]):n("template",{slot:"beforeContent"},[n("p",[e._v("\n        Hi "+e._s(e.personName)+", "+e._s(e.invitedByName)+" has invited you to\n        "+e._s(e.event.title)+".\n      ")]),n("p",[e._v("Please fill in the form below to purchase your ticket")])])],2):e._e(),n("ticket-offer-form",{on:{submitForm:e.proceedToTicket}})],1)},r=[],s=(n("8e6e"),n("ac6a"),n("456d"),n("7514"),n("bd86")),a=n("f568"),o=n("b858"),c=n("6c3f"),u=n("323e"),l=n.n(u),p=n("75cd"),d=n("5003"),f=n("2f62");function m(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function v(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?m(Object(n),!0).forEach((function(t){Object(s["a"])(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):m(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var b={name:"TicketOfferPending",components:{PageContent:a["a"],TicketOfferForm:o["a"]},mixins:[p["a"],d["a"]],data:function(){return{contentName:"ticket_offer_page_content"}},computed:v(v({},Object(f["c"])({event:"events/event",person:"people/person",ticketOffer:"ticketOffers/ticketOffer"})),{},{contentId:function(){var e=this;return this.event.pageContent.find((function(t){return t[0]===e.contentName}))[1]},invitedByName:function(){var e=this.ticketOffer.invitedBy;return"".concat(e.firstName," ").concat(e.lastName)},applicationQuestions:function(){return this.person.data},ticketQuestions:function(){return this.person.data}}),methods:{proceedToTicket:function(){var e=this;c["a"].updateProfile(this.person.id,{person:{firstName:this.person.firstName,lastName:this.person.lastName,email:this.person.email},profile:v(v({},this.applicationQuestions),this.ticketQuestions)}).then((function(){e.$emit("recalcNeeded"),l.a.done()})).catch((function(e){l.a.done(),console.log("ERROR",e)}))}}},h=b,y=(n("de8f"),n("2877")),O=Object(y["a"])(h,i,r,!1,null,null,null);t["a"]=O.exports},7599:function(e,t,n){},"8cd8":function(e,t,n){"use strict";var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("ticket",{attrs:{person:e.person,event:e.event,ticketOffer:e.ticketOffer}}),n("section",{staticClass:"section"},[n("page-content",{staticClass:"hide-print",attrs:{contentId:e.contentId}}),n("section",{staticClass:"container hide-print"},[n("div",{staticClass:"columns is-centered"},[n("div",{staticClass:"column is-6"},[n("form",{on:{submit:function(t){return t.preventDefault(),e.updateInfo(t)}}},[n("fieldset",[n("legend",{staticClass:"label"},[e._v("\n                Dietary Requirements\n              ")]),n("div",{staticClass:"checkbox-row"},e._l(e.dietaryRequirements,(function(t){return n("b-checkbox",{key:t,staticClass:"checkbox-column",attrs:{"native-value":t},model:{value:e.person.data.dietaryRequirements,callback:function(t){e.$set(e.person.data,"dietaryRequirements",t)},expression:"person.data.dietaryRequirements"}},[e._v("\n                  "+e._s(t)+"\n                ")])})),1)]),n("fieldset",[n("legend",{staticClass:"label"},[e._v("\n                Accessibility Requirements\n              ")]),n("div",{staticClass:"checkbox-row"},e._l(e.accessabilityRequirements,(function(t){return n("b-checkbox",{key:t,staticClass:"checkbox-column",attrs:{"native-value":t},model:{value:e.person.data.accessabilityRequirements,callback:function(t){e.$set(e.person.data,"accessabilityRequirements",t)},expression:"person.data.accessabilityRequirements"}},[e._v("\n                  "+e._s(t)+"\n                ")])})),1)]),n("div",{staticClass:"mt-5 buttons is-medium is-pulled-right"},[n("input",{staticClass:"button",attrs:{type:"submit",value:"Update info"}}),e.ticketOffer.invitePaidFor?e._e():n("a",{staticClass:"button",attrs:{href:e.receiptUrl,target:"_blank",rel:"noopener noreferrer"}},[e._v("\n                GST Receipt\n              ")])])])])])])],1)],1)},r=[],s=(n("8e6e"),n("ac6a"),n("456d"),n("7514"),n("bd86")),a=n("3382"),o=n("f568"),c=n("6c3f"),u=n("323e"),l=n.n(u),p=n("75cd"),d=n("b5ae"),f=n("2f62");function m(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function v(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?m(Object(n),!0).forEach((function(t){Object(s["a"])(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):m(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var b={name:"TicketOfferPurchased",components:{PageContent:o["a"],Ticket:a["a"]},mixins:[p["a"]],validations:{person:{firstName:{required:d["required"]},lastName:{required:d["required"]},email:{required:d["required"],email:d["email"]}}},beforeMount:function(){this.$store.dispatch("layouts/setBannerVisibility",!1)},data:function(){return{contentName:"purchased_page_content"}},computed:v(v(v({},Object(f["c"])(["dietaryRequirements","accessabilityRequirements"])),Object(f["c"])({event:"events/event",person:"people/person",ticketOffer:"ticketOffers/ticketOffer"})),{},{contentId:function(){var e=this;return this.event.pageContent.find((function(t){return t[0]===e.contentName}))[1]},paidFor:function(){return this.ticketOffer.invitePaidFor},invitedBy:function(){return this.ticketOffer.invitedBy},invitedByName:function(){return"".concat(this.invitedBy.firstName," ").concat(this.invitedBy.lastName)},receiptUrl:function(){var e="https://tedxauckland-profiles.herokuapp.com";return"".concat(e,"/receipts/").concat(this.ticketOffer.id)}}),methods:{updateInfo:function(){var e=this;this.$v.$touch(),this.$v.$invalid||(l.a.start(),c["a"].updateProfile(this.person.id,{profile:this.person.data}).then((function(){l.a.done(),e.$snackbar.open("Successfully updated special requirements")})).catch((function(e){l.a.done(),console.log("ERROR",e)})))}}},h=b,y=n("2877"),O=Object(y["a"])(h,i,r,!1,null,null,null);t["a"]=O.exports},b2a3:function(e,t,n){"use strict";n("7599")},b858:function(e,t,n){"use strict";var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("section",{staticClass:"container"},[n("div",{staticClass:"columns is-centered"},[n("div",{staticClass:"column is-6"},[n("form",{on:{submit:function(t){return t.preventDefault(),e.validateAndEmit(t)}}},[n("h2",{staticClass:"title is-3"},[e._v("Your Information")]),n("PersonInfo",{staticClass:"section-spacing",attrs:{person:e.person,$v:e.$v}}),n("hr",{staticStyle:{"margin-top":"3rem"}}),n("TicketQuestions",{staticClass:"section-spacing",attrs:{questions:e.ticketQuestions,$v:e.$v}}),n("hr",{staticStyle:{"margin-top":"3rem"}}),n("ApplicationQuestions",{staticClass:"section-spacing",attrs:{validations:e.$v.applicationQuestions},model:{value:e.applicationQuestions,callback:function(t){e.applicationQuestions=t},expression:"applicationQuestions"}}),n("div",{staticClass:"buttons has-addons is-right",staticStyle:{"margin-top":"3rem"}},[n("input",{staticClass:"button is-primary is-medium",attrs:{type:"submit"},domProps:{value:e.submitText}})])],1)])])])},r=[],s=(n("8e6e"),n("ac6a"),n("456d"),n("bd86")),a=n("323e"),o=n.n(a),c=n("0527"),u=n("2964"),l=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("fieldset",[n("fieldset",[n("legend",{staticClass:"label"},[e._v("Do you have any Dietary Requirements?")]),n("div",{staticClass:"checkbox-row"},e._l(e.dietaryRequirements,(function(t){return n("b-checkbox",{key:t,staticClass:"checkbox-column",attrs:{"native-value":t},model:{value:e.questions.dietaryRequirements,callback:function(t){e.$set(e.questions,"dietaryRequirements",t)},expression:"questions.dietaryRequirements"}},[e._v("\n          "+e._s(t)+"\n        ")])})),1)]),n("fieldset",[n("legend",{staticClass:"label"},[e._v("\n        Do you have any Accessibility Requirements?\n      ")]),n("div",{staticClass:"checkbox-row"},e._l(e.accessabilityRequirements,(function(t){return n("b-checkbox",{key:t,staticClass:"checkbox-column",attrs:{"native-value":t},model:{value:e.questions.accessabilityRequirements,callback:function(t){e.$set(e.questions,"accessabilityRequirements",t)},expression:"questions.accessabilityRequirements"}},[e._v("\n          "+e._s(t)+"\n        ")])})),1)])])},p=[],d={name:"TicketQuestions",components:{},props:{questions:{type:Object,required:!0},$v:{type:Object,required:!0}},computed:{dietaryRequirements:function(){return this.$store.state.dietaryRequirements},accessabilityRequirements:function(){return this.$store.state.accessabilityRequirements}}},f=d,m=(n("b2a3"),n("2877")),v=Object(m["a"])(f,l,p,!1,null,null,null),b=v.exports,h=n("16c3"),y=n("2f62");function O(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function k(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?O(Object(n),!0).forEach((function(t){Object(s["a"])(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):O(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var g={name:"TicketOfferForm",components:{PersonInfo:c["a"],ApplicationQuestions:u["a"],TicketQuestions:b},props:{submitText:{type:String,default:"Submit"}},computed:k(k({},Object(y["c"])({event:"events/event",person:"people/person",ticketOffer:"ticketOffers/ticketOffer"})),{},{applicationQuestions:function(){return this.person.data},ticketQuestions:function(){return this.person.data}}),validations:function(){return{person:h["c"],applicationQuestions:h["a"],ticketQuestions:h["f"][0]}},methods:{validateAndEmit:function(){this.$v.$touch(),this.$v.$invalid||(o.a.start(),this.$emit("submitForm"))}}},q=g,$=Object(m["a"])(q,i,r,!1,null,null,null);t["a"]=$.exports},de8f:function(e,t,n){"use strict";n("07c7")}}]);
//# sourceMappingURL=apply~ticket-offer-application.8303695d.js.map