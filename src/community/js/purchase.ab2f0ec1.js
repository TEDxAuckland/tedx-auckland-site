(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["purchase"],{"0ba8":function(e,t,n){"use strict";n("64f4")},1330:function(e,t,n){"use strict";n("45ab")},"16d0":function(e,t,n){},"36f4":function(e,t,n){"use strict";n.r(t);var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.event.soldOut?n("ticket-offer-spaces-full"):e.event.ticketSalesActive?n("div",[n("page-content",{attrs:{contentId:e.contentId,titleColumns:9,bodyColumns:8}}),n("section",{staticClass:"container"},[n("div",{staticClass:"columns is-centered"},[n("div",{staticClass:"column is-9"},[n("form",{on:{submit:function(t){return t.preventDefault(),e.purchase()}}},[n("h2",{staticClass:"title is-3 mx-3"},[e._v("Number of Tickets")]),n("b-field",{staticClass:"column is-5",attrs:{label:"How many tickets would you like to buy?"}},[n("b-numberinput",{attrs:{min:1,max:e.event.maxTicketCount,size:"is-large"},model:{value:e.ticketCount,callback:function(t){e.ticketCount=t},expression:"ticketCount"}})],1),n("TicketTotal",{staticClass:"mx-3",attrs:{count:e.ticketCount,price:e.event.ticketPriceCents}}),e.quantitySelected?n("person-details-form",{attrs:{$v:e.$v},model:{value:e.person,callback:function(t){e.person=t},expression:"person"}}):e._e(),n("b-field",{staticClass:"column is-6"},[n("b-button",{staticClass:"mt-5",attrs:{"native-type":"submit",size:"is-large",type:"is-primary"}},[e._v("Purchase")])],1)],1)])])])],1):n("ticket-sales-closed")},r=[],a=(n("8e6e"),n("ac6a"),n("456d"),n("96cf"),n("3b8d")),s=(n("7514"),n("bd86")),c=n("323e"),o=n.n(c),l=n("b5ae"),u=n("2f62"),p=n("1f95"),f=n("3218"),d=n("f568"),m=n("3c34"),v=n("6c3f"),b=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("strong",[e._v("\n  "+e._s(e.formatted)+"\n")])},h=[],O=(n("c5f6"),{name:"TicketTotal",components:{},props:{count:{type:Number,required:!0},price:{type:Number,required:!0}},computed:{total:function(){return this.count*this.price},formatted:function(){return"$".concat(this.total/100)}},methods:{}}),y=O,k=n("2877"),g=Object(k["a"])(y,b,h,!1,null,"28e1b4de",null),j=g.exports,_=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("b-field",{staticClass:"column is-8",attrs:{label:"First Name",type:{"is-danger":e.$v.person.firstName.$error},message:e.$v.person.firstName.$error?"Please enter your first name":""}},[n("b-input",{attrs:{placeholder:"Leslie",type:"text",icon:"account",size:"is-medium"},on:{blur:function(t){return e.$v.person.firstName.$touch()},input:e.onInput},model:{value:e.details.firstName,callback:function(t){e.$set(e.details,"firstName",t)},expression:"details.firstName"}})],1),n("b-field",{staticClass:"column is-8",attrs:{label:"Email",type:{"is-danger":e.$v.person.email.$error},message:e.$v.person.email.$error?"Please enter your email":""}},[n("b-input",{attrs:{placeholder:"francis@example.com",type:"email",icon:"email",size:"is-medium"},on:{blur:function(t){return e.$v.person.email.$touch()},input:e.onInput},model:{value:e.details.email,callback:function(t){e.$set(e.details,"email",t)},expression:"details.email"}})],1)],1)},$=[];function P(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function C(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?P(Object(n),!0).forEach((function(t){Object(s["a"])(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):P(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var w={name:"PersonDetails",components:{},props:{value:{type:Object,required:!0},$v:{type:Object,required:!0}},data:function(){return{details:C({},this.value)}},methods:{onInput:function(){this.$emit("input",this.details)}}},N=w,x=Object(k["a"])(N,_,$,!1,null,"11e427fe",null),q=x.exports;function R(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function T(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?R(Object(n),!0).forEach((function(t){Object(s["a"])(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):R(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var D="direct_buy_page_content",I={name:"Purchase",components:{TicketOfferSpacesFull:p["a"],TicketSalesClosed:f["a"],PageContent:d["a"],TicketTotal:j,PersonDetailsForm:q},data:function(){return{contentName:D,ticketCount:1,quantitySelected:!1,person:{firstName:"",email:""}}},validations:{person:{firstName:{required:l["required"]},email:{required:l["required"],email:l["email"]}}},computed:T(T({},Object(u["c"])({event:"events/event",content:"content/contentByField"})),{},{contentId:function(){var e=this;return this.event.pageContent.find((function(t){return t[0]===e.contentName}))[1]}}),methods:{purchase:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(){var t,n,i,r,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(this.quantitySelected){e.next=3;break}return this.quantitySelected=!0,e.abrupt("return");case 3:if(this.$v.$touch(),this.$v.$invalid){e.next=15;break}return t={firstName:this.person.firstName,email:this.person.email},e.next=8,v["a"].createOrUpdateProfile(t);case 8:return n=e.sent,i=n.data.person.id,e.next=12,m["a"].createTicketOffer(this.event.slug,{personId:i,ticketCount:this.ticketCount,purchaseQuantity:this.ticketCount});case 12:r=e.sent,a=r.data.ticketOffer.id,this.checkout(a);case 15:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),checkout:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(t){var n,i,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return o.a.start(),e.next=3,m["a"].createStripeSessionPurchaseQuantity({ticketOfferId:t,eventId:this.event.id});case 3:return n=e.sent,i="pk_live_nYT6MXu8PbzNd1UyYNyUsrDC00FIoSi0hH",r=Stripe(i),e.next=8,r.redirectToCheckout({sessionId:n.data.stripeSessionId});case 8:e.sent;case 9:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()}},S=I,E=(n("8b77"),Object(k["a"])(S,i,r,!1,null,"6b70ea2a",null));t["default"]=E.exports},"39c9":function(e,t,n){},"3b6b":function(e,t,n){"use strict";n("a759")},"43b9":function(e,t,n){},"45ab":function(e,t,n){},"64f4":function(e,t,n){},6719:function(e,t,n){"use strict";n("39c9")},8710:function(e,t,n){"use strict";n("caa2")},"8b77":function(e,t,n){"use strict";n("fe64")},9703:function(e,t,n){"use strict";n.r(t);var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("section",{staticClass:"container"},[n("upper-nav",{attrs:{ticketOffer:e.ticketOffer}}),n("ticket",{attrs:{person:e.person,event:e.event,ticketOffer:e.ticketOffer}}),n("section",{staticClass:"section"},[n("page-content",{staticClass:"hide-print",attrs:{contentId:e.contentId}}),n("section",{staticClass:"container hide-print"},[n("div",{staticClass:"columns is-centered"},[n("div",{staticClass:"column is-6"},[n("form",{on:{submit:function(t){return t.preventDefault(),e.updateInfo(t)}}},[n("fieldset",[n("legend",{staticClass:"label"},[e._v("\n                Dietary Requirements\n              ")]),n("div",{staticClass:"checkbox-row"},e._l(e.dietaryRequirements,(function(t){return n("b-checkbox",{key:t,staticClass:"checkbox-column",attrs:{"native-value":t},model:{value:e.person.data.dietaryRequirements,callback:function(t){e.$set(e.person.data,"dietaryRequirements",t)},expression:"person.data.dietaryRequirements"}},[e._v("\n                  "+e._s(t)+"\n                ")])})),1)]),n("fieldset",[n("legend",{staticClass:"label"},[e._v("\n                Accessibility Requirements\n              ")]),n("div",{staticClass:"checkbox-row"},e._l(e.accessabilityRequirements,(function(t){return n("b-checkbox",{key:t,staticClass:"checkbox-column",attrs:{"native-value":t},model:{value:e.person.data.accessabilityRequirements,callback:function(t){e.$set(e.person.data,"accessabilityRequirements",t)},expression:"person.data.accessabilityRequirements"}},[e._v("\n                  "+e._s(t)+"\n                ")])})),1)]),n("div",{staticClass:"mt-5 buttons is-medium is-pulled-right"},[n("input",{staticClass:"button",attrs:{type:"submit",value:"Update info"}}),e.ticketOffer.invitePaidFor?e._e():n("a",{staticClass:"button",attrs:{href:e.receiptUrl,target:"_blank",rel:"noopener noreferrer"}},[e._v("\n                GST Receipt\n              ")])])])])])])],1)],1)},r=[],a=(n("8e6e"),n("ac6a"),n("456d"),n("7514"),n("bd86")),s=n("323e"),c=n.n(s),o=n("3382"),l=n("f568"),u=n("6c3f"),p=function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.ticketOffer.invitedBy?n("nav",[n("router-link",{staticClass:"button is-primary is-large",attrs:{to:{name:"update-profile",params:e.$route.params}}},[e._v("\n    Back\n  ")])],1):n("nav",[n("router-link",{staticClass:"button is-primary is-large",attrs:{to:{name:"manage-tickets",params:e.$route.params}}},[e._v("\n    Back\n  ")])],1)},f=[],d={name:"UpperNav",props:{ticketOffer:{type:Object,required:!0}}},m=d,v=(n("1330"),n("2877")),b=Object(v["a"])(m,p,f,!1,null,"2e1ddfe4",null),h=b.exports,O=n("75cd"),y=n("b5ae"),k=n("2f62");function g(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function j(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?g(Object(n),!0).forEach((function(t){Object(a["a"])(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):g(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var _={name:"TicketOfferPurchased",components:{PageContent:l["a"],Ticket:o["a"],UpperNav:h},mixins:[O["a"]],validations:{person:{firstName:{required:y["required"]},lastName:{required:y["required"]},email:{required:y["required"],email:y["email"]}}},beforeMount:function(){this.$store.dispatch("layouts/setBannerVisibility",!1)},data:function(){return{contentName:"purchased_page_content"}},computed:j(j(j({},Object(k["c"])(["dietaryRequirements","accessabilityRequirements"])),Object(k["c"])({event:"events/event",person:"people/person",ticketOffer:"ticketOffers/ticketOffer"})),{},{contentId:function(){var e=this;return this.event.pageContent.find((function(t){return t[0]===e.contentName}))[1]},paidFor:function(){return this.ticketOffer.invitePaidFor},invitedBy:function(){return this.ticketOffer.invitedBy},invitedByName:function(){return"".concat(this.invitedBy.firstName," ").concat(this.invitedBy.lastName)},receiptUrl:function(){var e="https://tedxauckland-profiles.herokuapp.com";return"".concat(e,"/receipts/").concat(this.ticketOffer.id)}}),methods:{updateInfo:function(){var e=this;this.$v.$touch(),this.$v.$invalid||(c.a.start(),u["a"].updateProfile(this.person.id,{profile:this.person.data}).then((function(){c.a.done(),e.$snackbar.open("Successfully updated special requirements")})).catch((function(e){c.a.done(),console.log("ERROR",e)})))}}},$=_,P=Object(v["a"])($,i,r,!1,null,null,null);t["default"]=P.exports},a759:function(e,t,n){},caa2:function(e,t,n){},cc2f:function(e,t,n){"use strict";n("16d0")},cdd1:function(e,t,n){"use strict";n.r(t);var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("section",{staticClass:"container"},[e.ticketOffer.invitedBy?e._e():n("upper-nav"),e.needsDetails?n("section",{staticClass:"section"},[e._m(0)]):e._e(),n("page-content",{attrs:{contentId:e.contentId}},[e.ticketOffer.invitePaidFor?n("template",{slot:"beforeContent"},[n("p",[e._v("\n        Hi "+e._s(e.personName)+", "+e._s(e.invitedByName)+" has bought you a ticket to\n        "+e._s(e.event.title)+", we just need a few details before you can claim\n        your ticket.\n      ")]),n("p",[e._v("Please fill in the form below")])]):n("template",{slot:"beforeContent"},[n("p",[e._v("\n        Hi "),n("strong",[e._v(e._s(e.personName))]),e._v(", Please update your details below to receive your ticket for\n        "),n("strong",[e._v("\n        "+e._s(e.event.title)+"\n        ")]),e._v(".\n      ")])])],2),n("ticket-offer-form",{attrs:{submitText:"update profile"},on:{submitForm:e.proceedToTicket}})],1)},r=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"content has-text-centered"},[n("p",[e._v("Please fill in your details to get your ticket")])])}],a=(n("8e6e"),n("ac6a"),n("456d"),n("7514"),n("bd86")),s=n("f568"),c=n("b858"),o=n("6c3f"),l=n("323e"),u=n.n(l),p=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("nav",[n("router-link",{staticClass:"button is-primary is-large",attrs:{to:{name:"manage-tickets",params:e.$route.params}}},[e._v("\n    Back\n  ")])],1)},f=[],d={name:"UpperNav"},m=d,v=(n("fb96"),n("2877")),b=Object(v["a"])(m,p,f,!1,null,"fd8f815c",null),h=b.exports,O=n("75cd"),y=n("5003"),k=n("2f62");function g(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function j(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?g(Object(n),!0).forEach((function(t){Object(a["a"])(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):g(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var _={name:"Profile",components:{PageContent:s["a"],TicketOfferForm:c["a"],UpperNav:h},beforeMount:function(){this.$store.dispatch("layouts/setBannerVisibility",!0)},mixins:[O["a"],y["a"]],props:{needsDetails:{type:Boolean,default:!1}},data:function(){return{contentName:"ticket_offer_page_content"}},computed:j(j({},Object(k["c"])({event:"events/event",person:"people/person",ticketOffer:"ticketOffers/ticketOffer"})),{},{contentId:function(){var e=this;return this.event.pageContent.find((function(t){return t[0]===e.contentName}))[1]},invitedByName:function(){var e=this.ticketOffer.invitedBy,t=e.firstName,n=e.lastName;return n?"".concat(t," ").concat(n):t},redirectedFromTicket:function(){return this.$router},applicationQuestions:function(){return this.person.data},ticketQuestions:function(){return this.person.data}}),methods:{proceedToTicket:function(){var e=this;o["a"].updateProfile(this.person.id,{person:{firstName:this.person.firstName,lastName:this.person.lastName,email:this.person.email},profile:j(j({},this.applicationQuestions),this.ticketQuestions)}).then((function(){e.$emit("recalcNeeded"),u.a.done(),e.$router.push({name:"ticket",params:e.$route.params})})).catch((function(e){u.a.done(),console.log("ERROR",e)}))}}},$=_,P=(n("0ba8"),Object(v["a"])($,i,r,!1,null,null,null));t["default"]=P.exports},e25a:function(e,t,n){"use strict";n.r(t);var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("section",{staticClass:"container"},[n("page-content",{attrs:{contentId:e.contentId,titleColumns:9,bodyColumns:8}},[n("template",{slot:"beforeContent"},[n("p",[e._v("\n        You purchased "),n("strong",[e._v(e._s(e.purchaseQuantity))]),e._v(" tickets\n        and "),n("strong",[e._v(e._s(e.allocatedQuantity))]),e._v(" are allocated.\n      ")])])],2),n("upper-nav"),n("div",{staticClass:"ticket-preview column mb-6"},[n("h2",{staticClass:"title is-2"},[e._v("Your Ticket")]),n("purchaser-ticket",{attrs:{person:e.person}})],1),e.ticketOffer.ticketCount>1?n("div",{staticClass:"ticket-preview column is-clearfix"},[n("h2",{staticClass:"title is-2"},[e._v("Shared Tickets")]),e._l(e.invites,(function(e){return n("ticket-preview",{key:e.id,attrs:{person:e}})})),e.allocationReached?e._e():n("recipient-details-form",{staticClass:"mt-6",attrs:{allocationReached:e.allocationReached},on:{"add-invite":function(t){return e.offerTicket(t)}}})],2):e._e()],1)},r=[],a=(n("8e6e"),n("ac6a"),n("456d"),n("7514"),n("bd86")),s=n("b5ae"),c=n("2f62"),o=n("f568"),l=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"ticket-preview columns"},[n("div",{staticClass:"column"},[n("h3",{staticClass:"title is-4"},[e._v(e._s(e.person.firstName)+" "+e._s(e.person.lastName))]),n("h3",{staticClass:"subtitle is-4"},[e._v(e._s(e.person.email))])]),n("div",{staticClass:"column"},[n("router-link",{staticClass:"button is-primary is-large is-pulled-right",attrs:{to:{name:"ticket",params:e.$route.params}}},[e._v("\n      Ticket Link\n    ")])],1)])},u=[],p={name:"PurchaserTicket",props:{person:{type:Object,required:!0}}},f=p,d=(n("cc2f"),n("2877")),m=Object(d["a"])(f,l,u,!1,null,null,null),v=m.exports,b=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"ticket-preview column"},[n("h3",{staticClass:"title is-4"},[e._v(e._s(e.person.firstName)+" "+e._s(e.person.lastName))]),n("h3",{staticClass:"subtitle is-4"},[e._v(e._s(e.person.email))])])},h=[],O={name:"TicketPreview",props:{person:{type:Object,required:!0}}},y=O,k=(n("6719"),Object(d["a"])(y,b,h,!1,null,null,null)),g=k.exports,j=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"ticket-preview column is-clearfix"},[n("h3",{staticClass:"title is-4"},[e._v("Share Ticket To")]),n("b-field",{attrs:{label:"First Name",horizontal:"",type:{"is-danger":e.$v.invite.firstName.$error},message:e.$v.invite.firstName.$error?"Please enter your first name":""}},[n("b-input",{attrs:{placeholder:"Leslie",disabled:e.allocationReached,type:"text",icon:"account"},on:{blur:function(t){return e.$v.invite.firstName.$touch()}},model:{value:e.invite.firstName,callback:function(t){e.$set(e.invite,"firstName",t)},expression:"invite.firstName"}})],1),n("b-field",{attrs:{label:"Last Name",horizontal:"",type:{"is-danger":e.$v.invite.lastName.$error},message:e.$v.invite.lastName.$error?"Please enter your last name":""}},[n("b-input",{attrs:{placeholder:"Miles",disabled:e.allocationReached,type:"text",icon:"account"},on:{blur:function(t){return e.$v.invite.lastName.$touch()}},model:{value:e.invite.lastName,callback:function(t){e.$set(e.invite,"lastName",t)},expression:"invite.lastName"}})],1),n("b-field",{attrs:{label:"Email",horizontal:"",type:{"is-danger":e.$v.invite.email.$error},message:e.$v.invite.email.$error?"Please enter your email":""}},[n("b-input",{attrs:{placeholder:"francis@example.com",disabled:e.allocationReached,type:"email",icon:"email"},on:{blur:function(t){return e.$v.invite.email.$touch()}},model:{value:e.invite.email,callback:function(t){e.$set(e.invite,"email",t)},expression:"invite.email"}})],1),n("button",{staticClass:"add-button button is-primary is-medium is-pulled-right",attrs:{type:"button",disabled:e.allocationReached},on:{click:function(t){return t.preventDefault(),e.addInvite(t)}}},[e._v("\n    Send Ticket\n  ")])],1)},_=[];function $(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function P(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?$(Object(n),!0).forEach((function(t){Object(a["a"])(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):$(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var C={name:"RecipientDetailsForm",props:{allocationReached:{type:Boolean,required:!0}},data:function(){return{invite:P(P({},this.newInvite),{},{paidFor:!0})}},validations:{invite:{firstName:{required:s["required"]},lastName:{required:s["required"]},email:{required:s["required"],email:s["email"]},paidFor:{}}},computed:P({},Object(c["d"])({newInvite:"invites/newInvite"})),methods:{addInvite:function(){this.$v.$touch(),this.$v.$invalid||(this.$emit("add-invite",this.invite),this.invite=P(P({},this.newInvite),{},{paidFor:!0}),this.$v.$reset())}}},w=C,N=(n("8710"),Object(d["a"])(w,j,_,!1,null,null,null)),x=N.exports,q=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("nav",[n("router-link",{staticClass:"button is-primary is-large",attrs:{to:{name:"update-profile",params:e.$route.params}}},[e._v("\n    Update Profile\n  ")])],1)},R=[],T={name:"UpperNav"},D=T,I=(n("3b6b"),Object(d["a"])(D,q,R,!1,null,"c6ce8daa",null)),S=I.exports;function E(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function B(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?E(Object(n),!0).forEach((function(t){Object(a["a"])(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):E(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var F="invite_page_content",U={name:"SendTickets",components:{PageContent:o["a"],PurchaserTicket:v,TicketPreview:g,RecipientDetailsForm:x,UpperNav:S},beforeMount:function(){this.$store.dispatch("layouts/setBannerVisibility",!0)},data:function(){return{contentName:F}},validations:{person:{firstName:{required:s["required"]},email:{required:s["required"],email:s["email"]}}},methods:B(B({},Object(c["b"])({addInvite:"invites/addInvite"})),{},{offerTicket:function(e){if(!this.allocationReached){console.log(e);try{this.addInvite(e)}catch(t){this.$snackbar.open({message:t,type:"is-danger",position:"is-bottom-left"})}}}}),computed:B(B({},Object(c["c"])({event:"events/event",ticketOffer:"ticketOffers/ticketOffer",content:"content/contentByField",invites:"invites/invites",allocationReached:"invites/allocationReached",person:"people/person",purchaseQuantity:"invites/purchaseQuantity",allocatedQuantity:"invites/allocatedQuantity"})),{},{contentId:function(){var e=this;return this.event.pageContent.find((function(t){return t[0]===e.contentName}))[1]}})},Q=U,z=Object(d["a"])(Q,i,r,!1,null,"02d49cd0",null);t["default"]=z.exports},fb96:function(e,t,n){"use strict";n("43b9")},fe64:function(e,t,n){}}]);
//# sourceMappingURL=purchase.ab2f0ec1.js.map