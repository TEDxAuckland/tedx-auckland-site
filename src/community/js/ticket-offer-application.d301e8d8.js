(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["ticket-offer-application"],{"02f4":function(t,e,i){var n=i("4588"),r=i("be13");t.exports=function(t){return function(e,i){var s,a,o=String(r(e)),c=n(i),l=o.length;return c<0||c>=l?t?"":void 0:(s=o.charCodeAt(c),s<55296||s>56319||c+1===l||(a=o.charCodeAt(c+1))<56320||a>57343?t?o.charAt(c):s:t?o.slice(c,c+2):a-56320+(s-55296<<10)+65536)}}},"0390":function(t,e,i){"use strict";var n=i("02f4")(!0);t.exports=function(t,e,i){return e+(i?n(t,e).length:1)}},"0a49":function(t,e,i){var n=i("9b43"),r=i("626a"),s=i("4bf8"),a=i("9def"),o=i("cd1c");t.exports=function(t,e){var i=1==t,c=2==t,l=3==t,u=4==t,f=6==t,d=5==t||f,p=e||o;return function(e,o,v){for(var m,h,b=s(e),y=r(b),_=n(o,v,3),k=a(y.length),g=0,C=i?p(e,k):c?p(e,0):void 0;k>g;g++)if((d||g in y)&&(m=y[g],h=_(m,g,b),t))if(i)C[g]=h;else if(h)switch(t){case 3:return!0;case 5:return m;case 6:return g;case 2:C.push(m)}else if(u)return!1;return f?-1:l||u?u:C}}},"0bfb":function(t,e,i){"use strict";var n=i("cb7c");t.exports=function(){var t=n(this),e="";return t.global&&(e+="g"),t.ignoreCase&&(e+="i"),t.multiline&&(e+="m"),t.unicode&&(e+="u"),t.sticky&&(e+="y"),e}},"0d82":function(t,e,i){},"214f":function(t,e,i){"use strict";i("b0c5");var n=i("2aba"),r=i("32e9"),s=i("79e5"),a=i("be13"),o=i("2b4c"),c=i("520a"),l=o("species"),u=!s(function(){var t=/./;return t.exec=function(){var t=[];return t.groups={a:"7"},t},"7"!=="".replace(t,"$<a>")}),f=function(){var t=/(?:)/,e=t.exec;t.exec=function(){return e.apply(this,arguments)};var i="ab".split(t);return 2===i.length&&"a"===i[0]&&"b"===i[1]}();t.exports=function(t,e,i){var d=o(t),p=!s(function(){var e={};return e[d]=function(){return 7},7!=""[t](e)}),v=p?!s(function(){var e=!1,i=/a/;return i.exec=function(){return e=!0,null},"split"===t&&(i.constructor={},i.constructor[l]=function(){return i}),i[d](""),!e}):void 0;if(!p||!v||"replace"===t&&!u||"split"===t&&!f){var m=/./[d],h=i(a,d,""[t],function(t,e,i,n,r){return e.exec===c?p&&!r?{done:!0,value:m.call(e,i,n)}:{done:!0,value:t.call(i,e,n)}:{done:!1}}),b=h[0],y=h[1];n(String.prototype,t,b),r(RegExp.prototype,d,2==e?function(t,e){return y.call(t,this,e)}:function(t){return y.call(t,this)})}}},"2d9a":function(t,e,i){"use strict";var n=i("f599"),r=i.n(n);r.a},3375:function(t,e,i){"use strict";var n=i("0d82"),r=i.n(n);r.a},3882:function(t,e,i){},5003:function(t,e,i){"use strict";i.d(e,"a",function(){return n});i("a481");var n={methods:{substituteMarkdownContent:function(t,e,i){return t=t.replace("->FIRST_NAME<-",e),t=t.replace("->LAST_NAME<-",i),t=t.replace("->NAME<-",e+" "+i),t}}}},"520a":function(t,e,i){"use strict";var n=i("0bfb"),r=RegExp.prototype.exec,s=String.prototype.replace,a=r,o="lastIndex",c=function(){var t=/a/,e=/b*/g;return r.call(t,"a"),r.call(e,"a"),0!==t[o]||0!==e[o]}(),l=void 0!==/()??/.exec("")[1],u=c||l;u&&(a=function(t){var e,i,a,u,f=this;return l&&(i=new RegExp("^"+f.source+"$(?!\\s)",n.call(f))),c&&(e=f[o]),a=r.call(f,t),c&&a&&(f[o]=f.global?a.index+a[0].length:e),l&&a&&a.length>1&&s.call(a[0],i,function(){for(u=1;u<arguments.length-2;u++)void 0===arguments[u]&&(a[u]=void 0)}),a}),t.exports=a},"5dbc":function(t,e,i){var n=i("d3f4"),r=i("8b97").set;t.exports=function(t,e,i){var s,a=e.constructor;return a!==i&&"function"==typeof a&&(s=a.prototype)!==i.prototype&&n(s)&&r&&r(t,s),t}},"5f1bb":function(t,e,i){"use strict";var n=i("23c6"),r=RegExp.prototype.exec;t.exports=function(t,e){var i=t.exec;if("function"===typeof i){var s=i.call(t,e);if("object"!==typeof s)throw new TypeError("RegExp exec method returned something other than an Object or null");return s}if("RegExp"!==n(t))throw new TypeError("RegExp#exec called on incompatible receiver");return r.call(t,e)}},6794:function(t,e,i){"use strict";var n=i("7e58"),r=i.n(n);r.a},"723e":function(t,e,i){"use strict";i.r(e);var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"section"},[t._m(0),i("section",{staticClass:"container section-spacing content"},[i("div",{staticClass:"columns is-centered"},[i("div",{staticClass:"column is-8"},[i("p",{staticClass:"is-size-4"},[i("span",{staticClass:"has-text-primary"},[t._v(t._s(t.personName))])]),i("CopyInviteAndBuy",{attrs:{allocationLeft:t.allocationLeft,event:t.event}}),t._m(1)],1)])]),i("section",{staticClass:"container"},[i("div",{staticClass:"columns is-centered"},[i("div",{staticClass:"column is-9"},[i("div",{staticClass:"columns"},[i("div",{staticClass:"column is-8"},[i("div",{staticClass:"ticket-container"},[i("h2",{staticClass:"title is-3"},[t._v("Your Ticket Details")]),i("TicketPreview",{attrs:{person:t.person,"ticket-offer":t.ticketOffer,event:t.event}})],1),i("div",{staticClass:"ticket-container columns"},[i("div",{staticClass:"column"},[i("h2",{staticClass:"title is-3"},[t._v("Invite Your Friends and Family")]),i("NewInviteForm",{attrs:{newInvite:t.newInvite,allocationReached:t.allocationReached},on:{"add-invite":function(e){return t.addInvite(e)}}})],1)])]),i("div",{staticClass:"column is-4"},[i("OrderTally",{attrs:{person:t.person,invites:t.invites,paidInviteCount:t.paidInviteCount,ticketPrice:1*t.ticketOffer.costAfterDiscountCents},on:{"remove-invite":function(e){return t.removeInvite(e)},"toggle-invite-paid":function(e){return t.toggleInvitePaid(e)},checkout:t.checkout}})],1)])])])])])},r=[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("section",{staticClass:"container section-spacing"},[i("div",{staticClass:"columns is-centered"},[i("div",{staticClass:"column is-9"},[i("h1",{staticClass:"title is-1"},[t._v("Your Crew")]),i("h2",{staticClass:"subtitle is-4"},[t._v("\n          Buy tickets for or invite others\n        ")])])])])},function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("p",[i("strong",{staticClass:"has-text-primary"},[t._v("\n            The TEDxAuckland team\n          ")])])}],s=i("cebc"),a=(i("7514"),i("b5ae")),o=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[t._m(0),i("p",[t._v("\n    You have\n    "),i("strong",{staticClass:"has-text-primary"},[t._v("\n      "+t._s(t.allocationLeft)+"\n    ")]),t._v("\n    "+t._s(t.plural?"opportunities":"opportunity")+"\n    left to purchase tickets for others, or invite them to purchase their own.\n    There\n    "+t._s(t.plural?"are":"is")+" currently\n    "),i("strong",{staticClass:"has-text-primary"},[t._v(t._s(t.ticketsLeft))]),t._v("\n    "+t._s(t.plural?"tickets":"ticket")+" left. Don't miss out!\n  ")])])},c=[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("p",[i("span",{staticClass:"is-size-5"},[t._v("\n      You're almost there!\n    ")])])}],l=(i("c5f6"),{name:"CopyInviteAndBuy",props:{allocationLeft:{type:Number,required:!0},event:{type:Object,required:!0}},computed:{plural:function(){return 1!==this.allocationLeft},ticketsLeft:function(){return this.event.standardTicketsLeft}}}),u=l,f=i("2877"),d=Object(f["a"])(u,o,c,!1,null,null,null),p=d.exports,v=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"ticket-preview column"},[i("h3",{staticClass:"title is-4"},[t._v(t._s(t.person.firstName)+" "+t._s(t.person.lastName))]),i("h3",{staticClass:"subtitle is-4"},[t._v(t._s(t.person.email))])])},m=[],h={name:"TicketPreview",props:{person:{type:Object,required:!0},ticketOffer:{type:Object,required:!0},event:{type:Object,required:!0}},computed:{plural:function(){return this.ticketOffer.ticketCount>1},ticketsLeft:function(){return this.event.standardTicketsLeft}}},b=h,y=(i("6794"),Object(f["a"])(b,v,m,!1,null,null,null)),_=y.exports,k=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"ticket-preview column is-clearfix"},[i("b-field",{attrs:{label:"First Name",horizontal:"",type:{"is-danger":t.$v.invite.firstName.$error},message:t.$v.invite.firstName.$error?"Please enter your first name":""}},[i("b-input",{attrs:{placeholder:"Leslie",disabled:t.allocationReached,type:"text",icon:"account"},on:{blur:function(e){return t.$v.invite.firstName.$touch()}},model:{value:t.invite.firstName,callback:function(e){t.$set(t.invite,"firstName",e)},expression:"invite.firstName"}})],1),i("b-field",{attrs:{label:"Last Name",horizontal:"",type:{"is-danger":t.$v.invite.lastName.$error},message:t.$v.invite.lastName.$error?"Please enter your last name":""}},[i("b-input",{attrs:{placeholder:"Miles",disabled:t.allocationReached,type:"text",icon:"account"},on:{blur:function(e){return t.$v.invite.lastName.$touch()}},model:{value:t.invite.lastName,callback:function(e){t.$set(t.invite,"lastName",e)},expression:"invite.lastName"}})],1),i("b-field",{attrs:{label:"Email",horizontal:"",type:{"is-danger":t.$v.invite.email.$error},message:t.$v.invite.email.$error?"Please enter your email":""}},[i("b-input",{attrs:{placeholder:"francis@example.com",disabled:t.allocationReached,type:"email",icon:"email"},on:{blur:function(e){return t.$v.invite.email.$touch()}},model:{value:t.invite.email,callback:function(e){t.$set(t.invite,"email",e)},expression:"invite.email"}})],1),i("b-field",{attrs:{label:"Paid For?",horizontal:""}},[i("b-checkbox",{attrs:{disabled:t.allocationReached,size:"is-medium"},model:{value:t.invite.paidFor,callback:function(e){t.$set(t.invite,"paidFor",e)},expression:"invite.paidFor"}},[t._v("\n      I will pay for this ticket\n    ")])],1),i("button",{staticClass:"add-button button is-primary is-medium is-pulled-right",attrs:{type:"button",disabled:t.allocationReached},on:{click:function(e){return e.preventDefault(),t.addInvite(e)}}},[t._v("\n    Add Invite\n  ")])],1)},g=[],C={name:"NewInviteForm",props:{newInvite:{type:Object,required:!0},allocationReached:{type:Boolean,required:!0}},data:function(){return{invite:Object(s["a"])({},this.newInvite)}},validations:{invite:{firstName:{required:a["required"]},lastName:{required:a["required"]},email:{required:a["required"],email:a["email"]},paidFor:{}}},methods:{addInvite:function(){this.$v.$touch(),this.$v.$invalid||(this.$emit("add-invite",this.invite),this.invite=Object(s["a"])({},this.newInvite),this.$v.$reset())}}},$=C,x=(i("eddd"),Object(f["a"])($,k,g,!1,null,null,null)),w=x.exports,O=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("aside",[i("h3",{staticClass:"title is-4"},[t._v("Order Tally")]),i("h4",{staticClass:"title is-5"},[t._v("Tickets")]),i("OrderTallyRow",{attrs:{invite:t.person,price:t.formattedTicketPrice,forPurchaser:""}}),t._l(t.invites,function(e,n){return i("div",[e.paidFor?i("OrderTallyRow",{key:e.email,attrs:{invite:e,price:t.formattedTicketPrice,position:"paid"},on:{"remove-tally-row":function(i){return t.$emit("remove-invite",e.id)},"toggle-invite-paid":function(i){return t.$emit("toggle-invite-paid",e.id)}}}):t._e()],1)}),i("h4",{staticClass:"title is-5"},[t._v("Invites")]),t._l(t.invites,function(e,n){return i("div",[e.paidFor?t._e():i("OrderTallyRow",{key:e.email,attrs:{invite:e,price:t.formattedTicketPrice,position:"unpaid"},on:{"remove-tally-row":function(i){return t.$emit("remove-invite",e.id)},"toggle-invite-paid":function(i){return t.$emit("toggle-invite-paid",e.id)}}})],1)}),i("div",{staticClass:"tally-row"},[i("div",{staticClass:"tally-row__name"},[t._v("\n      total:\n    ")]),i("div",{staticClass:"tally-row__price"},[t._v("\n      "+t._s(t.formattedOrderTotal)+"\n    ")])]),i("button",{staticClass:"button is-primary is-medium is-fullwidth",attrs:{type:"button",role:"link"},on:{click:function(e){return e.preventDefault(),t.$emit("checkout")}}},[t._v("\n    Checkout\n  ")])],2)},N=[],I=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"tally-row"},[i("div",{staticClass:"tally-row__name"},[t.forPurchaser?t._e():i("b-tooltip",{staticClass:"tally-row__button",attrs:{label:"Remove "+t.invite.firstName}},[i("b-icon",{attrs:{icon:"close"},nativeOn:{click:function(e){return t.$emit("remove-tally-row")}}})],1),t.forPurchaser?t._e():i("b-tooltip",{staticClass:"tally-row__button",attrs:{label:"Move "+t.invite.firstName+" to "+t.moveText}},[i("b-icon",{attrs:{icon:t.moveIcon},nativeOn:{click:function(e){return t.$emit("toggle-invite-paid")}}})],1),t._v("\n\n    "+t._s(t.invite.firstName)+"\n  ")],1),i("div",{staticClass:"tally-row__price"},[t.invite.paidFor||t.forPurchaser?i("span",[t._v("\n      "+t._s(t.price)+"\n    ")]):i("span",[t._v("\n      free\n    ")])])])},T=[],A={name:"OrderTallyRow",props:{invite:{type:Object,required:!0},price:{type:String,required:!0},position:{type:String,default:"paid"},forPurchaser:{type:Boolean,default:!1}},computed:{moveText:function(){return{paid:"unpaid",unpaid:"paid"}[this.position]},moveIcon:function(){return{paid:"arrow-down-bold-outline",unpaid:"arrow-up-bold-outline"}[this.position]}}},q=A,R=(i("8d90"),Object(f["a"])(q,I,T,!1,null,null,null)),E=R.exports,P={name:"OrderTally",components:{OrderTallyRow:E},props:{person:{type:Object,required:!0},paidInviteCount:{type:Number,required:!0},invites:{type:Array,required:!0},ticketPrice:{type:Number,required:!0}},computed:{formattedTicketPrice:function(){return"$".concat(this.ticketPrice/100)},orderTotal:function(){return(1+this.paidInviteCount)*this.ticketPrice},formattedOrderTotal:function(){return"$".concat(this.orderTotal/100)},plural:function(){return this.ticketOffer.ticketCount>1},ticketsLeft:function(){return this.event.standardTicketsLeft}}},j=P,L=Object(f["a"])(j,O,N,!1,null,null,null),F=L.exports,S=i("3c34"),M=i("323e"),D=i.n(M),Q=i("75cd"),Y={name:"TicketOfferPurchase",components:{CopyInviteAndBuy:p,TicketPreview:_,NewInviteForm:w,OrderTally:F},props:{person:{type:Object,required:!0},ticketOffer:{type:Object,required:!0},event:{type:Object,required:!0},existingInvites:{type:Array,required:!0},newInvite:{type:Object,required:!0}},mixins:[Q["a"]],data:function(){return{isRejectModalActive:!1,invites:this.existingInvites,invitesOld:[]}},computed:{paidInvites:function(){return this.invites.filter(function(t){return t.paidFor})},paidInviteCount:function(){return this.paidInvites.length},unPaidInvites:function(){return this.invites.filter(function(t){return!t.paidFor})},formattedTicketPrice:function(){return"$".concat(this.ticketOffer.costAfterDiscountCents/100)},ticketsLeft:function(){return this.event.standardTicketsLeft},allocationLeft:function(){return this.ticketOffer.ticketCount-1-this.invites.length},allocationReached:function(){return this.allocationLeft<=0}},validations:{invites:{required:a["required"],$each:{firstName:{required:a["required"]},lastName:{required:a["required"]},email:{required:a["required"],email:a["email"]},paidFor:{}}}},methods:{addInvite:function(t){var e=this;if(this.allocationReached)return null;S["a"].createInvite(this.event.slug,this.ticketOffer.id,t).then(function(t){e.invites=t.data.invites}).catch(function(t){console.log("create invite error",t)})},removeInvite:function(t){var e=this;S["a"].deleteInvite(t).then(function(t){e.invites=t.data.invites}).catch(function(t){console.log("delete invite error",t)})},toggleInvitePaid:function(t){var e=this,i=this.invites.find(function(e){return e.id===t});S["a"].updateInvite(t,Object(s["a"])({},i,{paidFor:!i.paidFor})).then(function(t){e.invites=t.data.invites}).catch(function(t){console.log("update invite error",t)})},checkout:function(){this.$v.$touch(),this.$v.$invalid||(D.a.start(),S["a"].createStripeSession({ticketOfferId:this.ticketOffer.id,ticketsToPurchase:{guest_quantity:this.paidInviteCount}}).then(function(t){var e=Stripe("pk_test_sGyh7aqViI3lKNlUR6iekPvd00LU1kLu8V");e.redirectToCheckout({sessionId:t.data.stripeSessionId}).then(function(t){})}))}}},z=Y,U=(i("2d9a"),Object(f["a"])(z,n,r,!1,null,"8168d43a",null));e["default"]=U.exports},7514:function(t,e,i){"use strict";var n=i("5ca1"),r=i("0a49")(5),s="find",a=!0;s in[]&&Array(1)[s](function(){a=!1}),n(n.P+n.F*a,"Array",{find:function(t){return r(this,t,arguments.length>1?arguments[1]:void 0)}}),i("9c6c")(s)},"7e58":function(t,e,i){},"8acf":function(t,e,i){"use strict";i.r(e);var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"section"},[i("section",{staticClass:"container section-spacing"},[i("div",{staticClass:"columns is-centered"},[i("div",{staticClass:"column is-8"},[i("h1",{staticClass:"title is-1"},[t._v(t._s(t.event.pageTicketOfferTitle))]),i("h2",{staticClass:"subtitle is-4"},[t._v("\n          "+t._s(t.event.pageTicketOfferSubtitle)+"\n        ")])])])]),i("section",{staticClass:"container section-spacing content"},[i("div",{staticClass:"columns is-centered"},[i("div",{staticClass:"column is-7"},[i("p",{staticClass:"is-size-4"},[t._v("\n          Hi\n          "),i("span",{staticClass:"has-text-primary"},[t._v(t._s(t.personName))])]),i("CopyTicketOffer",{attrs:{"ticket-offer":t.ticketOffer,event:t.event}}),i("Markdown",{attrs:{input:t.substitutedMarkdownContent}}),t._m(0)],1)])]),i("section",{staticClass:"container"},[i("div",{staticClass:"columns is-centered"},[i("div",{staticClass:"column is-6"},[i("form",{on:{submit:function(e){return e.preventDefault(),t.proceedToPurchase(e)}}},[i("h2",{staticClass:"title is-3"},[t._v("Your Contact Info")]),i("PersonInfo",{staticClass:"section-spacing",attrs:{person:t.person,$v:t.$v}}),i("h2",{staticClass:"title is-3"},[t._v("General Questions")]),i("ApplicationQuestions",{staticClass:"section-spacing",attrs:{validations:t.$v.applicationQuestions},model:{value:t.applicationQuestions,callback:function(e){t.applicationQuestions=e},expression:"applicationQuestions"}}),i("h2",{staticClass:"title is-3"},[t._v("Questions for Ticket")]),i("TicketQuestions",{staticClass:"section-spacing",attrs:{questions:t.ticketQuestions,$v:t.$v}}),t._m(1)],1)])])])])},r=[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("p",[i("strong",{staticClass:"has-text-primary"},[t._v("\n            The TEDxAuckland team\n          ")])])},function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"buttons has-addons is-right"},[i("input",{staticClass:"button is-primary is-medium",attrs:{type:"submit",value:"Proceed to Invites and Purchase"}})])}],s=i("cebc"),a=i("e6e0"),o=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("p",[t._v("\n  You have been giving the opportunity to purchase\n  "),i("strong",{staticClass:"has-text-primary"},[t._v("\n    "+t._s(t.ticketOffer.ticketCount)+"\n  ")]),t._v("\n  "+t._s(t.plural?"tickets at":"ticket for")+"\n  "),i("strong",{staticClass:"has-text-primary"},[t._v(t._s(t.formattedTicketPrice))]),t._v("\n  "+t._s(t.plural?"each":null)+". There are\n  "),i("strong",{staticClass:"has-text-primary"},[t._v(t._s(t.ticketsLeft))]),t._v(" tickets left,\n  please complete the form below and buy your\n  "+t._s(t.plural?"tickets":"ticket")+" now.\n")])},c=[],l={name:"CopyTicketOffer",props:{ticketOffer:{type:Object,required:!0},event:{type:Object,required:!0}},computed:{plural:function(){return this.ticketOffer.ticketCount>1},formattedTicketPrice:function(){return"$".concat(this.ticketOffer.costAfterDiscountCents/100)},ticketsLeft:function(){return this.event.standardTicketsLeft}}},u=l,f=i("2877"),d=Object(f["a"])(u,o,c,!1,null,null,null),p=d.exports,v=i("0527"),m=i("2964"),h=i("5732"),b=i("6c3f"),y=i("323e"),_=i.n(y),k=i("75cd"),g=i("5003"),C=i("16c3"),$={name:"TicketOfferFromApplication",components:{Markdown:a["a"],CopyTicketOffer:p,PersonInfo:v["a"],ApplicationQuestions:m["a"],TicketQuestions:h["a"]},props:{personInit:{type:Object,required:!0},ticketOffer:{type:Object,required:!0},event:{type:Object,required:!0}},data:function(){return{isRejectModalActive:!1,substitutedMarkdownContent:this.substituteMarkdownContent(this.event.pageTicketOfferContentMarkdown,this.personInit.firstName,this.personInit.lastName)}},mixins:[C["c"],C["a"],C["g"],k["a"],g["a"]],computed:{formattedTicketPrice:function(){return"$".concat(this.ticketOffer.costAfterDiscountCents/100)},ticketsLeft:function(){return this.event.standardTicketsLeft},ticketsLeftUrgent:function(){var t=18;return this.event.standardTicketsLeft<t?this.event.standardTicketsLeft:t}},validations:function(){return"true"===this.ticketQuestions.foundedYesNo?{person:C["d"],applicationQuestions:C["b"],ticketQuestions:C["h"][1]}:{person:C["d"],applicationQuestions:C["b"],ticketQuestions:C["h"][0]}},methods:{proceedToPurchase:function(){var t=this;this.$v.$touch(),this.$v.$invalid||(_.a.start(),b["a"].updateProfile(this.person.id,{person:{firstName:this.person.firstName,lastName:this.person.lastName,email:this.person.email},profile:Object(s["a"])({},this.applicationQuestions,this.ticketQuestions)}).then(function(){t.$router.push({name:"ticket-offer-purchase",params:{eventSlug:t.event.slug,id:t.ticketOffer.id}}),_.a.done()}).catch(function(t){_.a.done(),console.log("ERROR",t)}))}}},x=$,w=(i("3375"),Object(f["a"])(x,n,r,!1,null,null,null));e["default"]=w.exports},"8b97":function(t,e,i){var n=i("d3f4"),r=i("cb7c"),s=function(t,e){if(r(t),!n(e)&&null!==e)throw TypeError(e+": can't set as prototype!")};t.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(t,e,n){try{n=i("9b43")(Function.call,i("11e9").f(Object.prototype,"__proto__").set,2),n(t,[]),e=!(t instanceof Array)}catch(r){e=!0}return function(t,i){return s(t,i),e?t.__proto__=i:n(t,i),t}}({},!1):void 0),check:s}},"8d90":function(t,e,i){"use strict";var n=i("ac3c"),r=i.n(n);r.a},a481:function(t,e,i){"use strict";var n=i("cb7c"),r=i("4bf8"),s=i("9def"),a=i("4588"),o=i("0390"),c=i("5f1bb"),l=Math.max,u=Math.min,f=Math.floor,d=/\$([$&`']|\d\d?|<[^>]*>)/g,p=/\$([$&`']|\d\d?)/g,v=function(t){return void 0===t?t:String(t)};i("214f")("replace",2,function(t,e,i,m){return[function(n,r){var s=t(this),a=void 0==n?void 0:n[e];return void 0!==a?a.call(n,s,r):i.call(String(s),n,r)},function(t,e){var r=m(i,t,this,e);if(r.done)return r.value;var f=n(t),d=String(this),p="function"===typeof e;p||(e=String(e));var b=f.global;if(b){var y=f.unicode;f.lastIndex=0}var _=[];while(1){var k=c(f,d);if(null===k)break;if(_.push(k),!b)break;var g=String(k[0]);""===g&&(f.lastIndex=o(d,s(f.lastIndex),y))}for(var C="",$=0,x=0;x<_.length;x++){k=_[x];for(var w=String(k[0]),O=l(u(a(k.index),d.length),0),N=[],I=1;I<k.length;I++)N.push(v(k[I]));var T=k.groups;if(p){var A=[w].concat(N,O,d);void 0!==T&&A.push(T);var q=String(e.apply(void 0,A))}else q=h(w,d,O,N,T,e);O>=$&&(C+=d.slice($,O)+q,$=O+w.length)}return C+d.slice($)}];function h(t,e,n,s,a,o){var c=n+t.length,l=s.length,u=p;return void 0!==a&&(a=r(a),u=d),i.call(o,u,function(i,r){var o;switch(r.charAt(0)){case"$":return"$";case"&":return t;case"`":return e.slice(0,n);case"'":return e.slice(c);case"<":o=a[r.slice(1,-1)];break;default:var u=+r;if(0===u)return i;if(u>l){var d=f(u/10);return 0===d?i:d<=l?void 0===s[d-1]?r.charAt(1):s[d-1]+r.charAt(1):i}o=s[u-1]}return void 0===o?"":o})}})},aa77:function(t,e,i){var n=i("5ca1"),r=i("be13"),s=i("79e5"),a=i("fdef"),o="["+a+"]",c="​",l=RegExp("^"+o+o+"*"),u=RegExp(o+o+"*$"),f=function(t,e,i){var r={},o=s(function(){return!!a[t]()||c[t]()!=c}),l=r[t]=o?e(d):a[t];i&&(r[i]=l),n(n.P+n.F*o,"String",r)},d=f.trim=function(t,e){return t=String(r(t)),1&e&&(t=t.replace(l,"")),2&e&&(t=t.replace(u,"")),t};t.exports=f},ac3c:function(t,e,i){},b0c5:function(t,e,i){"use strict";var n=i("520a");i("5ca1")({target:"RegExp",proto:!0,forced:n!==/./.exec},{exec:n})},c5f6:function(t,e,i){"use strict";var n=i("7726"),r=i("69a8"),s=i("2d95"),a=i("5dbc"),o=i("6a99"),c=i("79e5"),l=i("9093").f,u=i("11e9").f,f=i("86cc").f,d=i("aa77").trim,p="Number",v=n[p],m=v,h=v.prototype,b=s(i("2aeb")(h))==p,y="trim"in String.prototype,_=function(t){var e=o(t,!1);if("string"==typeof e&&e.length>2){e=y?e.trim():d(e,3);var i,n,r,s=e.charCodeAt(0);if(43===s||45===s){if(i=e.charCodeAt(2),88===i||120===i)return NaN}else if(48===s){switch(e.charCodeAt(1)){case 66:case 98:n=2,r=49;break;case 79:case 111:n=8,r=55;break;default:return+e}for(var a,c=e.slice(2),l=0,u=c.length;l<u;l++)if(a=c.charCodeAt(l),a<48||a>r)return NaN;return parseInt(c,n)}}return+e};if(!v(" 0o1")||!v("0b1")||v("+0x1")){v=function(t){var e=arguments.length<1?0:t,i=this;return i instanceof v&&(b?c(function(){h.valueOf.call(i)}):s(i)!=p)?a(new m(_(e)),i,v):_(e)};for(var k,g=i("9e1e")?l(m):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),C=0;g.length>C;C++)r(m,k=g[C])&&!r(v,k)&&f(v,k,u(m,k));v.prototype=h,h.constructor=v,i("2aba")(n,p,v)}},cd1c:function(t,e,i){var n=i("e853");t.exports=function(t,e){return new(n(t))(e)}},d3e5:function(t,e,i){},dfb5:function(t,e,i){"use strict";var n=i("3882"),r=i.n(n);r.a},e853:function(t,e,i){var n=i("d3f4"),r=i("1169"),s=i("2b4c")("species");t.exports=function(t){var e;return r(t)&&(e=t.constructor,"function"!=typeof e||e!==Array&&!r(e.prototype)||(e=void 0),n(e)&&(e=e[s],null===e&&(e=void 0))),void 0===e?Array:e}},eddd:function(t,e,i){"use strict";var n=i("d3e5"),r=i.n(n);r.a},f599:function(t,e,i){},fdef:function(t,e){t.exports="\t\n\v\f\r   ᠎             　\u2028\u2029\ufeff"},ff89:function(t,e,i){"use strict";i.r(e);var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"section"},[i("section",{staticClass:"container section-spacing"},[i("div",{staticClass:"columns is-centered"},[i("div",{staticClass:"column is-8"},[i("h1",{staticClass:"title is-1"},[t._v("Update Ticket Details")]),i("h1",{staticClass:"subtitle is-2"},[t._v(t._s(t.event.title))])])])]),i("section",{staticClass:"container section-spacing content"},[i("div",{staticClass:"columns is-centered"},[i("div",{staticClass:"column is-7"},[i("p",{staticClass:"is-size-4"},[t._v("\n          Hi\n          "),i("span",{staticClass:"has-text-primary"},[t._v(t._s(t.personName))])]),i("p",[t._v("\n          Please update your Ticket information.\n        ")]),t._m(0)])])]),i("section",{staticClass:"container"},[i("div",{staticClass:"columns is-centered"},[i("div",{staticClass:"column is-6"},[i("form",{on:{submit:function(e){return e.preventDefault(),t.updateInfo(e)}}},[i("h2",{staticClass:"title has-text-poppins is-5 has-red-stripe"},[t._v("\n            Your Contact Info\n          ")]),i("b-field",{attrs:{label:"First Name",type:{"is-danger":t.$v.personAnswers.firstName.$error},message:t.$v.personAnswers.firstName.$error?"Please enter your first name":""}},[i("b-input",{attrs:{placeholder:"Leslie",type:"text",icon:"account"},on:{blur:function(e){return t.$v.personAnswers.firstName.$touch()}},model:{value:t.personAnswers.firstName,callback:function(e){t.$set(t.personAnswers,"firstName",e)},expression:"personAnswers.firstName"}})],1),i("b-field",{attrs:{label:"Last Name",type:{"is-danger":t.$v.personAnswers.lastName.$error},message:t.$v.personAnswers.lastName.$error?"Please enter your last name":""}},[i("b-input",{attrs:{placeholder:"Miles",type:"text",icon:"account"},on:{blur:function(e){return t.$v.personAnswers.lastName.$touch()}},model:{value:t.personAnswers.lastName,callback:function(e){t.$set(t.personAnswers,"lastName",e)},expression:"personAnswers.lastName"}})],1),i("b-field",{attrs:{label:"Email",type:{"is-danger":t.$v.personAnswers.email.$error||t.errors.email},message:t.errors.email?t.errors.email:""}},[i("b-input",{attrs:{placeholder:"francis@example.com",type:"email",icon:"email"},on:{blur:function(e){return t.$v.personAnswers.email.$touch()}},model:{value:t.personAnswers.email,callback:function(e){t.$set(t.personAnswers,"email",e)},expression:"personAnswers.email"}})],1),i("fieldset",[i("legend",{staticClass:"label"},[t._v("\n              Do you have any Dietary Requirements?\n            ")]),i("div",{staticClass:"checkbox-row"},t._l(t.dietaryRequirements,function(e){return i("b-checkbox",{key:e,staticClass:"checkbox-column",attrs:{"native-value":e},model:{value:t.personAnswers.data.dietaryRequirements,callback:function(e){t.$set(t.personAnswers.data,"dietaryRequirements",e)},expression:"personAnswers.data.dietaryRequirements"}},[t._v("\n                "+t._s(e)+"\n              ")])}),1)]),i("fieldset",[i("legend",{staticClass:"label"},[t._v("\n              Do you have any Accessability Requirements?\n            ")]),i("div",{staticClass:"checkbox-row"},t._l(t.accessabilityRequirements,function(e){return i("b-checkbox",{key:e,staticClass:"checkbox-column",attrs:{"native-value":e},model:{value:t.personAnswers.data.accessabilityRequirements,callback:function(e){t.$set(t.personAnswers.data,"accessabilityRequirements",e)},expression:"personAnswers.data.accessabilityRequirements"}},[t._v("\n                "+t._s(e)+"\n              ")])}),1)]),i("input",{staticClass:"button is-medium is-pulled-right is-primary",attrs:{type:"submit",value:"Update info"}})],1)])])])])},r=[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("p",[i("strong",{staticClass:"has-text-primary"},[t._v("\n            The TEDxAuckland team\n          ")])])}],s=i("6c3f"),a=i("323e"),o=i.n(a),c=i("b5ae"),l=i("75cd"),u={name:"TicketDetails",props:{person:{type:Object,required:!0},ticketOffer:{type:Object,required:!0},event:{type:Object,required:!0}},mixins:[l["a"]],validations:{personAnswers:{firstName:{required:c["required"]},lastName:{required:c["required"]},email:{required:c["required"],email:c["email"]}}},data:function(){return{personAnswers:this.person,errors:{}}},methods:{snackbar:function(){this.$snackbar.open("Default, positioned bottom-right with a green 'OK' button")},updateInfo:function(){var t=this;this.$v.$touch(),this.$v.$invalid||(o.a.start(),s["a"].updateProfile(this.person.id,{person:{firstName:this.personAnswers.firstName,lastName:this.personAnswers.lastName,email:this.personAnswers.email},profile:this.personAnswers.data}).then(function(){o.a.done(),t.$snackbar.open("Successfully updated Ticket Details")}).catch(function(t){o.a.done(),console.log("ERROR",t)}))}},computed:{dietaryRequirements:function(){return this.$store.state.dietaryRequirements},accessabilityRequirements:function(){return this.$store.state.accessabilityRequirements}}},f=u,d=(i("dfb5"),i("2877")),p=Object(d["a"])(f,n,r,!1,null,null,null);e["default"]=p.exports}}]);
//# sourceMappingURL=ticket-offer-application.d301e8d8.js.map