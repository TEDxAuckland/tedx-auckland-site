(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["ticket-offer-application"],{"0118":function(t,e,n){"use strict";var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("input",{directives:[{name:"model",rawName:"v-model",value:t.autocompleteText,expression:"autocompleteText"}],ref:"autocomplete",class:t.classname,attrs:{type:"text",id:t.id,placeholder:t.placeholder},domProps:{value:t.autocompleteText},on:{focus:function(e){return t.onFocus()},blur:function(e){return t.onBlur()},change:t.onChange,keypress:t.onKeyPress,keyup:t.onKeyUp,input:function(e){e.target.composing||(t.autocompleteText=e.target.value)}}})},s=[],r=(n("ac4d"),n("8a81"),n("ac6a"),n("6762"),n("2fdb"),{street_number:"short_name",route:"long_name",locality:"long_name",administrative_area_level_1:"short_name",administrative_area_level_2:"county",country:"long_name",postal_code:"short_name"}),a=["locality","administrative_area_level_3"],o=["locality","sublocality","postal_code","country","administrative_area_level_1","administrative_area_level_2"],c={name:"VueGoogleAutocomplete",props:{id:{type:String,required:!0},classname:String,placeholder:{type:String,default:"Start typing"},types:{type:String,default:"address"},country:{type:[String,Array],default:null},enableGeolocation:{type:Boolean,default:!1},geolocationOptions:{type:Object,default:null}},data:function(){return{autocomplete:null,autocompleteText:"",geolocation:{geocoder:null,loc:null,position:null}}},watch:{autocompleteText:function(t,e){this.$emit("inputChange",{newVal:t,oldVal:e},this.id)},country:function(t,e){this.autocomplete.setComponentRestrictions({country:null===this.country?[]:this.country})}},mounted:function(){var t={};this.types&&(t.types=[this.types]),this.country&&(t.componentRestrictions={country:this.country}),this.autocomplete=new google.maps.places.Autocomplete(document.getElementById(this.id),t),this.autocomplete.addListener("place_changed",this.onPlaceChanged)},methods:{onPlaceChanged:function(){var t=this.autocomplete.getPlace();t.geometry?void 0!==t.address_components&&(this.$emit("placechanged",this.formatResult(t),t,this.id),this.autocompleteText=document.getElementById(this.id).value,this.onChange()):this.$emit("no-results-found",t,this.id)},onFocus:function(){this.biasAutocompleteLocation(),this.$emit("focus")},onBlur:function(){this.$emit("blur")},onChange:function(){this.$emit("change",this.autocompleteText)},onKeyPress:function(t){this.$emit("keypress",t)},onKeyUp:function(t){this.$emit("keyup",t)},clear:function(){this.autocompleteText=""},focus:function(){this.$refs.autocomplete.focus()},blur:function(){this.$refs.autocomplete.blur()},update:function(t){this.autocompleteText=t},updateCoordinates:function(t){var e=this;(t||t.lat||t.lng)&&(this.geolocation.geocoder||(this.geolocation.geocoder=new google.maps.Geocoder),this.geolocation.geocoder.geocode({location:t},function(t,n){"OK"===n?(t=e.filterGeocodeResultTypes(t),t[0]?(e.$emit("placechanged",e.formatResult(t[0]),t[0],e.id),e.update(t[0].formatted_address)):e.$emit("error","no result for provided coordinates")):e.$emit("error","error getting address from coords")}))},geolocate:function(){var t=this;this.updateGeolocation(function(e,n){t.updateCoordinates(e)})},updateGeolocation:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;if(navigator.geolocation){var n={};this.geolocationOptions&&Object.assign(n,this.geolocationOptions),navigator.geolocation.getCurrentPosition(function(n){var i={lat:n.coords.latitude,lng:n.coords.longitude};t.geolocation.loc=i,t.geolocation.position=n,e&&e(i,n)},function(e){t.$emit("error","Cannot get Coordinates from navigator",e)},n)}},biasAutocompleteLocation:function(){var t=this;this.enableGeolocation&&this.updateGeolocation(function(e,n){var i=new google.maps.Circle({center:e,radius:n.coords.accuracy});t.autocomplete.setBounds(i.getBounds())})},formatResult:function(t){for(var e={},n=0;n<t.address_components.length;n++){var i=t.address_components[n].types[0];if(r[i]){var s=t.address_components[n][r[i]];e[i]=s}}return e["latitude"]=t.geometry.location.lat(),e["longitude"]=t.geometry.location.lng(),e},filterGeocodeResultTypes:function(t){if(!t||!this.types)return t;var e=[],n=[this.types];n.includes("(cities)")&&(n=n.concat(a)),n.includes("(regions)")&&(n=n.concat(o));var i=!0,s=!1,r=void 0;try{for(var c,l=t[Symbol.iterator]();!(i=(c=l.next()).done);i=!0){var u=c.value,f=!0,d=!1,p=void 0;try{for(var v,m=u.types[Symbol.iterator]();!(f=(v=m.next()).done);f=!0){var h=v.value;if(n.includes(h)){e.push(u);break}}}catch(b){d=!0,p=b}finally{try{f||null==m.return||m.return()}finally{if(d)throw p}}}}catch(b){s=!0,r=b}finally{try{i||null==l.return||l.return()}finally{if(s)throw r}}return e}}},l=c,u=n("2877"),f=Object(u["a"])(l,i,s,!1,null,null,null);e["a"]=f.exports},"07c7":function(t,e,n){},"0a49":function(t,e,n){var i=n("9b43"),s=n("626a"),r=n("4bf8"),a=n("9def"),o=n("cd1c");t.exports=function(t,e){var n=1==t,c=2==t,l=3==t,u=4==t,f=6==t,d=5==t||f,p=e||o;return function(e,o,v){for(var m,h,b=r(e),y=s(b),k=i(o,v,3),_=a(y.length),g=0,C=n?p(e,_):c?p(e,0):void 0;_>g;g++)if((d||g in y)&&(m=y[g],h=k(m,g,b),t))if(n)C[g]=h;else if(h)switch(t){case 3:return!0;case 5:return m;case 6:return g;case 2:C.push(m)}else if(u)return!1;return f?-1:l||u?u:C}}},1169:function(t,e,n){var i=n("2d95");t.exports=Array.isArray||function(t){return"Array"==i(t)}},"11e9":function(t,e,n){var i=n("52a7"),s=n("4630"),r=n("6821"),a=n("6a99"),o=n("69a8"),c=n("c69a"),l=Object.getOwnPropertyDescriptor;e.f=n("9e1e")?l:function(t,e){if(t=r(t),e=a(e,!0),c)try{return l(t,e)}catch(n){}if(o(t,e))return s(!i.f.call(t,e),t[e])}},"12f6":function(t,e,n){},1556:function(t,e,n){"use strict";n.r(e);var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.event.soldOut&&"purchased"!==t.ticketOffer.status?n("ticket-offer-spaces-full"):"pending"===t.ticketOffer.status?n("ticket-offer-pending"):"purchased"===t.ticketOffer.status&&t.needsDetails?n("ticket-offer-purchased-update-details",{on:{recalcNeeded:function(e){return t.recalcNeedsDetails()}}}):"purchased"===t.ticketOffer.status?n("ticket-offer-purchased"):t._e()},s=[],r=n("cebc"),a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"section"},[n("section",{staticClass:"container section-spacing"},[n("div",{staticClass:"columns is-centered"},[n("div",{staticClass:"column is-8"},[n("h1",{staticClass:"title is-1"},[t._v("Spaces Full")]),n("h2",{staticClass:"subtitle is-4"},[t._v(t._s(t.event.title))])])])]),n("section",{staticClass:"container section-spacing content"},[n("div",{staticClass:"columns is-centered"},[n("div",{staticClass:"column is-7"},[n("p",{staticClass:"is-size-4"},[t._v("\n          Hi "),n("span",{staticClass:"has-text-primary"},[t._v(t._s(t.person.firstName))])]),n("p",[t._v("\n          We're so sorry! Unfortunately there are no more tickets available\n          for\n          "+t._s(t.event.title)+". If any more tickets are released we'll be sure to\n          let you know.\n        ")]),n("p",[t._v("\n          Thanks so much for your interest and please be aware that we have\n          more events coming soon, so please watch this space.\n        ")]),n("p",[t._v("\n          Thanks\n        ")]),t._m(0)])])])])},o=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("p",[n("strong",{staticClass:"has-text-primary"},[t._v("\n            TEDxAuckland\n          ")])])}],c=n("2f62"),l={name:"SpacesFull",computed:Object(r["a"])({},Object(c["b"])({event:"events/event",person:"people/person",ticketOffer:"ticketOffers/ticketOffer"}))},u=l,f=n("2877"),d=Object(f["a"])(u,a,o,!1,null,null,null),p=d.exports,v=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"section"},[n("section",{staticClass:"container section-spacing"},[n("div",{staticClass:"columns is-centered"},[n("div",{staticClass:"column is-8"},[n("Markdown",{staticClass:"title is-1",attrs:{input:t.pageTitle,tag:"h1"}}),n("Markdown",{staticClass:"subtitle is-4",attrs:{input:t.pageSubTitle,tag:"h2"}})],1)])]),n("section",{staticClass:"container section-spacing content"},[n("div",{staticClass:"columns is-centered"},[n("div",{staticClass:"column is-7"},[n("p",{staticClass:"is-size-4"},[t._v("\n          Hi\n          "),n("span",{staticClass:"has-text-primary"},[t._v(t._s(t.personName))])]),n("CopyTicketOffer",{attrs:{"ticket-offer":t.ticketOffer,event:t.event}}),n("Markdown",{attrs:{input:t.pageContent}}),t._m(0)],1)])]),n("ticket-offer-form",{on:{submitForm:t.proceedToPurchase}})],1)},m=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("p",[n("strong",{staticClass:"has-text-primary"},[t._v("\n            The TEDxAuckland team\n          ")])])}],h=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("section",{staticClass:"container"},[n("div",{staticClass:"columns is-centered"},[n("div",{staticClass:"column is-6"},[n("form",{on:{submit:function(e){return e.preventDefault(),t.validateAndEmit(e)}}},[n("h2",{staticClass:"title is-3"},[t._v("Your Contact Info")]),n("PersonInfo",{staticClass:"section-spacing",attrs:{person:t.person,$v:t.$v}}),n("h2",{staticClass:"title is-3"},[t._v("General Questions")]),n("ApplicationQuestions",{staticClass:"section-spacing",attrs:{validations:t.$v.applicationQuestions},model:{value:t.applicationQuestions,callback:function(e){t.applicationQuestions=e},expression:"applicationQuestions"}}),n("h2",{staticClass:"title is-3"},[t._v("Questions for Ticket")]),n("TicketQuestions",{staticClass:"section-spacing",attrs:{questions:t.ticketQuestions,$v:t.$v}}),t._m(0)],1)])])])},b=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"buttons has-addons is-right"},[n("input",{staticClass:"button is-primary is-medium",attrs:{type:"submit",value:"Proceed to Invites and Purchase"}})])}],y=n("323e"),k=n.n(y),_=n("0527"),g=n("2964"),C=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("fieldset",[n("address-field",{attrs:{validation:t.$v.ticketQuestions.address},model:{value:t.questions.address,callback:function(e){t.$set(t.questions,"address",e)},expression:"questions.address"}}),n("fieldset",[n("b-field",{attrs:{label:"Have you been involved in the starting of a new venture?"}},[n("div",{staticClass:"checkbox-row"},[n("div",{class:{test:t.$v.ticketQuestions.foundedYesNo.$error}},[n("b-radio",{staticClass:"checkbox-column",attrs:{"native-value":"true"},model:{value:t.questions.foundedYesNo,callback:function(e){t.$set(t.questions,"foundedYesNo",e)},expression:"questions.foundedYesNo"}},[t._v("\n            Yes\n          ")]),n("b-radio",{staticClass:"checkbox-column",attrs:{"native-value":"false"},model:{value:t.questions.foundedYesNo,callback:function(e){t.$set(t.questions,"foundedYesNo",e)},expression:"questions.foundedYesNo"}},[t._v("\n            No\n          ")])],1)])]),"true"===t.questions.foundedYesNo?n("b-field",{attrs:{label:"What was this venture called?",type:{"is-danger":t.$v.ticketQuestions.founded.$error}}},[n("b-input",{attrs:{type:"text",placeholder:"Name of Venture"},on:{blur:function(e){return t.$v.ticketQuestions.founded.$touch()}},model:{value:t.questions.founded,callback:function(e){t.$set(t.questions,"founded",t._n(e))},expression:"questions.founded"}})],1):t._e()],1),n("fieldset",[n("legend",{staticClass:"label"},[t._v("Do you have any Dietary Requirements?")]),n("div",{staticClass:"checkbox-row"},t._l(t.dietaryRequirements,function(e){return n("b-checkbox",{key:e,staticClass:"checkbox-column",attrs:{"native-value":e},model:{value:t.questions.dietaryRequirements,callback:function(e){t.$set(t.questions,"dietaryRequirements",e)},expression:"questions.dietaryRequirements"}},[t._v("\n        "+t._s(e)+"\n      ")])}),1)]),n("fieldset",[n("legend",{staticClass:"label"},[t._v("\n      Do you have any Accessability Requirements?\n    ")]),n("div",{staticClass:"checkbox-row"},t._l(t.accessabilityRequirements,function(e){return n("b-checkbox",{key:e,staticClass:"checkbox-column",attrs:{"native-value":e},model:{value:t.questions.accessabilityRequirements,callback:function(e){t.$set(t.questions,"accessabilityRequirements",e)},expression:"questions.accessabilityRequirements"}},[t._v("\n        "+t._s(e)+"\n      ")])}),1)]),n("fieldset",[n("legend",{staticClass:"label"},[t._v("Conversation Starters: Talk to me about...")]),n("div",{staticClass:"columns"},[n("div",{staticClass:"column is-11 is-offset-1"},[n("b-field",{attrs:{type:{"is-danger":t.$v.ticketQuestions.conversationStarters.one.$error}}},[n("b-input",{attrs:{type:"text",maxlength:"40"},on:{blur:function(e){return t.$v.ticketQuestions.conversationStarters.one.$touch()}},model:{value:t.questions.conversationStarters.one,callback:function(e){t.$set(t.questions.conversationStarters,"one",e)},expression:"questions.conversationStarters.one"}})],1),n("b-field",{attrs:{type:{"is-danger":t.$v.ticketQuestions.conversationStarters.two.$error}}},[n("b-input",{attrs:{type:"text",maxlength:"40"},on:{blur:function(e){return t.$v.ticketQuestions.conversationStarters.two.$touch()}},model:{value:t.questions.conversationStarters.two,callback:function(e){t.$set(t.questions.conversationStarters,"two",e)},expression:"questions.conversationStarters.two"}})],1)],1)])])],1)},O=[],$=n("9bab"),w={name:"TicketQuestions",components:{AddressField:$["a"]},props:{questions:{type:Object,required:!0},$v:{type:Object,required:!0}},computed:{dietaryRequirements:function(){return this.$store.state.dietaryRequirements},accessabilityRequirements:function(){return this.$store.state.accessabilityRequirements}}},N=w,x=(n("b2a3"),Object(f["a"])(N,C,O,!1,null,null,null)),T=x.exports,q=n("16c3"),A={name:"TicketOfferForm",components:{PersonInfo:_["a"],ApplicationQuestions:g["a"],TicketQuestions:T},computed:Object(r["a"])({},Object(c["b"])({event:"events/event",person:"people/person",ticketOffer:"ticketOffers/ticketOffer"}),{applicationQuestions:function(){return this.person.data},ticketQuestions:function(){return this.person.data}}),validations:function(){return"true"===this.ticketQuestions.foundedYesNo?{person:q["c"],applicationQuestions:q["a"],ticketQuestions:q["f"][1]}:{person:q["c"],applicationQuestions:q["a"],ticketQuestions:q["f"][0]}},methods:{validateAndEmit:function(){this.$v.$touch(),this.$v.$invalid||(k.a.start(),this.$emit("submitForm"))}}},I=A,P=Object(f["a"])(I,h,b,!1,null,null,null),j=P.exports,S=n("e6e0"),E=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[t.invitedBy&&t.paidFor?[t.invitedBy&&t.paidFor?n("p",[n("strong",{staticClass:"has-text-primary"},[t._v("\n        "+t._s(t.invitedByName)+"\n      ")]),t._v("\n      has bought you a ticket.\n    ")]):t._e(),n("p",[t._v("\n      Update your details below to claim it.\n    ")])]:t.invitedBy?n("p",[t._v("\n    You have been invited by\n    "),n("strong",{staticClass:"has-text-primary"},[t._v(" "+t._s(t.invitedByName)+" ")]),t._v(". This\n    means you got to skip the application process.\n  ")]):t._e(),t.paidFor?t._e():n("p",[t._v("\n    You have the opportunity to purchase\n    "),n("strong",{staticClass:"has-text-primary"},[t._v("\n      "+t._s(t.ticketOffer.ticketCount)+"\n    ")]),t._v("\n    "+t._s(t.plural?"tickets":"ticket")+" for\n    "),n("strong",{staticClass:"has-text-primary"},[t._v(t._s(t.formattedTicketPrice))]),t._v("\n    "+t._s(t.plural?"each":null)+". There "+t._s(t.pluralTickets?"are":"is")+"\n    "),n("strong",{staticClass:"has-text-primary"},[t._v(t._s(t.ticketsLeft))]),t._v("\n    "+t._s(t.pluralTickets?"tickets":"ticket")+" left, please complete the form\n    below and buy your "+t._s(t.plural?"tickets":"ticket")+" now.\n  ")])],2)},R=[],F={name:"CopyTicketOffer",props:{ticketOffer:{type:Object,required:!0},event:{type:Object,required:!0}},computed:{plural:function(){return this.ticketOffer.ticketCount>1},formattedTicketPrice:function(){return"$".concat(this.ticketOffer.costAfterDiscountCents/100)},paidFor:function(){return this.ticketOffer.invitePaidFor},invitedBy:function(){return this.ticketOffer.invitedBy},invitedByName:function(){return"".concat(this.invitedBy.firstName," ").concat(this.invitedBy.lastName)},pluralTickets:function(){return this.ticketsLeft>1},ticketsLeft:function(){return this.event.standardTicketsLeft}}},D=F,Q=Object(f["a"])(D,E,R,!1,null,null,null),L=Q.exports,B=n("6c3f"),Y=n("75cd"),M=n("5003"),G={name:"TicketOfferPending",components:{Markdown:S["a"],CopyTicketOffer:L,TicketOfferForm:j},mixins:[Y["a"],M["a"]],computed:Object(r["a"])({},Object(c["b"])({event:"events/event",person:"people/person",ticketOffer:"ticketOffers/ticketOffer"}),{applicationQuestions:function(){return this.person.data},ticketQuestions:function(){return this.person.data},pageTitle:function(){return this.substituteContent(this.event.pageTicketOfferTitle,this.person,this.event)},pageSubTitle:function(){return this.substituteContent(this.event.pageTicketOfferSubtitle,this.person,this.event)},pageContent:function(){return this.substituteContent(this.event.pageTicketOfferContentMarkdown,this.person,this.event)}}),methods:{proceedToPurchase:function(){var t=this;B["a"].updateProfile(this.person.id,{person:{firstName:this.person.firstName,lastName:this.person.lastName,email:this.person.email},profile:Object(r["a"])({},this.applicationQuestions,this.ticketQuestions)}).then(function(){t.$router.push({name:"ticket-offer-purchase",params:{eventSlug:t.event.slug,id:t.ticketOffer.id}}),k.a.done()}).catch(function(t){k.a.done(),console.log("ERROR",t)})}}},z=G,K=(n("61cf"),Object(f["a"])(z,v,m,!1,null,null,null)),U=K.exports,W=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"section"},[n("section",{staticClass:"container section-spacing"},[n("div",{staticClass:"columns is-centered"},[n("div",{staticClass:"column is-8"},[n("Markdown",{staticClass:"title is-1",attrs:{input:t.pageTitle,tag:"h1"}}),n("Markdown",{staticClass:"subtitle is-4",attrs:{input:t.pageSubTitle,tag:"h2"}})],1)])]),n("section",{staticClass:"container section-spacing content"},[n("div",{staticClass:"columns is-centered"},[n("div",{staticClass:"column is-7"},[n("p",{staticClass:"is-size-4"},[t._v("\n          Hi\n          "),n("span",{staticClass:"has-text-primary"},[t._v(t._s(t.personName))])]),n("CopyTicketOffer",{attrs:{"ticket-offer":t.ticketOffer,event:t.event}}),n("Markdown",{attrs:{input:t.pageContent}}),t._m(0)],1)])]),n("ticket-offer-form",{on:{submitForm:t.proceedToTicket}})],1)},H=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("p",[n("strong",{staticClass:"has-text-primary"},[t._v("\n            The TEDxAuckland team\n          ")])])}],V={name:"TicketOfferPending",components:{Markdown:S["a"],CopyTicketOffer:L,TicketOfferForm:j},mixins:[Y["a"],M["a"]],computed:Object(r["a"])({},Object(c["b"])({event:"events/event",person:"people/person",ticketOffer:"ticketOffers/ticketOffer"}),{applicationQuestions:function(){return this.person.data},ticketQuestions:function(){return this.person.data},pageTitle:function(){return this.substituteContent(this.event.pageTicketOfferTitle,this.person,this.event)},pageSubTitle:function(){return this.substituteContent(this.event.pageTicketOfferSubtitle,this.person,this.event)},pageContent:function(){return this.substituteContent(this.event.pageTicketOfferContentMarkdown,this.person,this.event)}}),methods:{proceedToTicket:function(){var t=this;B["a"].updateProfile(this.person.id,{person:{firstName:this.person.firstName,lastName:this.person.lastName,email:this.person.email},profile:Object(r["a"])({},this.applicationQuestions,this.ticketQuestions)}).then(function(){t.$emit("recalcNeeded"),k.a.done()}).catch(function(t){k.a.done(),console.log("ERROR",t)})}}},J=V,X=(n("de8f"),Object(f["a"])(J,W,H,!1,null,null,null)),Z=X.exports,tt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"section"},[t._m(0),n("section",{staticClass:"container section-spacing content"},[n("div",{staticClass:"columns is-centered"},[n("div",{staticClass:"column is-7"},[n("p",{staticClass:"is-size-4"},[t._v("\n          Congratulations\n          "),n("span",{staticClass:"has-text-primary"},[t._v(t._s(t.personName))])]),t.invitedBy&&t.paidFor?n("p",[t._v("\n          You now have a ticket to TEDxAucklandSalon IN THE DARK!\n          We will be sending you a physical ticket in the mail,\n          and "+t._s(t.invitedByName)+" should have a receipt confirmation.\n        ")]):n("p",[t._v("\n          You now have a ticket to TEDxAucklandSalon IN THE DARK!\n          We will be sending you a physical ticket in the mail,\n          and you should receive a receipt through email confirm your purchase.\n        ")]),t._m(1),n("p",[t._v("\n          We look forward to hearing you there!\n        ")]),t._m(2)])])])])},et=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("section",{staticClass:"container section-spacing"},[n("div",{staticClass:"columns is-centered"},[n("div",{staticClass:"column is-8"},[n("h1",{staticClass:"title is-1"},[t._v("\n          Ticket\n          "),n("span",{staticClass:"has-text-primary"},[t._v("Purchased")])])])])])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("ul",[n("li",[n("strong",[t._v("When:")]),t._v(" Saturday August 31st (6pm till late)\n          ")]),n("li",[n("strong",[t._v("Where:")]),t._v(" Rydges Hotel, Auckland Central\n          ")])])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("p",[n("strong",{staticClass:"has-text-primary"},[t._v("\n            TEDxAuckland\n          ")])])}],nt={name:"TicketOfferPurchased",mixins:[Y["a"]],computed:Object(r["a"])({},Object(c["b"])({event:"events/event",person:"people/person",ticketOffer:"ticketOffers/ticketOffer"}),{paidFor:function(){return this.ticketOffer.invitePaidFor},invitedBy:function(){return this.ticketOffer.invitedBy},invitedByName:function(){return"".concat(this.invitedBy.firstName," ").concat(this.invitedBy.lastName)}})},it=nt,st=Object(f["a"])(it,tt,et,!1,null,null,null),rt=st.exports,at={name:"TicketOfferFromApplication",components:{TicketOfferSpacesFull:p,TicketOfferPending:U,TicketOfferPurchasedUpdateDetails:Z,TicketOfferPurchased:rt},beforeMount:function(){this.needsDetails=this.calcNeedsDetails()},data:function(){return{needsDetails:null}},computed:Object(r["a"])({},Object(c["b"])({event:"events/event",person:"people/person",ticketOffer:"ticketOffers/ticketOffer"})),methods:{recalcNeedsDetails:function(){var t=this;this.$store.dispatch("people/getPerson",this.person.id).then(function(){t.calcNeedsDetails()})},calcNeedsDetails:function(){return!this.person.lastName||!this.person.data.educationLevel||!this.person.data.foundedYesNo||!this.person.data.conversationStarters.one}}},ot=at,ct=Object(f["a"])(ot,i,s,!1,null,null,null);e["default"]=ct.exports},2233:function(t,e,n){"use strict";var i=n("12f6"),s=n.n(i);s.a},"37c8":function(t,e,n){e.f=n("2b4c")},3882:function(t,e,n){},"3a72":function(t,e,n){var i=n("7726"),s=n("8378"),r=n("2d00"),a=n("37c8"),o=n("86cc").f;t.exports=function(t){var e=s.Symbol||(s.Symbol=r?{}:i.Symbol||{});"_"==t.charAt(0)||t in e||o(e,t,{value:a.f(t)})}},"456d":function(t,e,n){var i=n("4bf8"),s=n("0d58");n("5eda")("keys",function(){return function(t){return s(i(t))}})},"502b":function(t,e,n){},"5dbc":function(t,e,n){var i=n("d3f4"),s=n("8b97").set;t.exports=function(t,e,n){var r,a=e.constructor;return a!==n&&"function"==typeof a&&(r=a.prototype)!==n.prototype&&i(r)&&s&&s(t,r),t}},"5eda":function(t,e,n){var i=n("5ca1"),s=n("8378"),r=n("79e5");t.exports=function(t,e){var n=(s.Object||{})[t]||Object[t],a={};a[t]=e(n),i(i.S+i.F*r(function(){n(1)}),"Object",a)}},"61cf":function(t,e,n){"use strict";var i=n("fbd8"),s=n.n(i);s.a},6794:function(t,e,n){"use strict";var i=n("7e58"),s=n.n(i);s.a},"67ab":function(t,e,n){var i=n("ca5a")("meta"),s=n("d3f4"),r=n("69a8"),a=n("86cc").f,o=0,c=Object.isExtensible||function(){return!0},l=!n("79e5")(function(){return c(Object.preventExtensions({}))}),u=function(t){a(t,i,{value:{i:"O"+ ++o,w:{}}})},f=function(t,e){if(!s(t))return"symbol"==typeof t?t:("string"==typeof t?"S":"P")+t;if(!r(t,i)){if(!c(t))return"F";if(!e)return"E";u(t)}return t[i].i},d=function(t,e){if(!r(t,i)){if(!c(t))return!0;if(!e)return!1;u(t)}return t[i].w},p=function(t){return l&&v.NEED&&c(t)&&!r(t,i)&&u(t),t},v=t.exports={KEY:i,NEED:!1,fastKey:f,getWeak:d,onFreeze:p}},"723e":function(t,e,n){"use strict";n.r(e);var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"section"},[t._m(0),n("section",{staticClass:"container section-spacing content"},[n("div",{staticClass:"columns is-centered"},[n("div",{staticClass:"column is-8"},[n("CopyInviteAndBuy",{attrs:{allocationLeft:t.allocationLeft,event:t.event}})],1)])]),n("section",{staticClass:"container"},[n("div",{staticClass:"columns is-centered"},[n("div",{staticClass:"column is-9"},[n("div",{staticClass:"columns"},[n("div",{staticClass:"column is-8"},[n("div",{staticClass:"ticket-container"},[n("h2",{staticClass:"title is-3"},[t._v("Your Ticket Details")]),n("TicketPreview",{attrs:{person:t.person,"ticket-offer":t.ticketOffer,event:t.event}})],1),n("div",{staticClass:"ticket-container columns"},[n("div",{staticClass:"column"},[n("h2",{staticClass:"title is-3"},[t._v("Invite Your Friends and Family")]),n("NewInviteForm",{attrs:{newInvite:t.newInvite,allocationReached:t.allocationReached},on:{"add-invite":function(e){return t.addInvite(e)}}})],1)])]),n("div",{staticClass:"column is-4"},[n("OrderTally",{attrs:{person:t.person,invites:t.invites,paidInviteCount:t.paidInviteCount,ticketPrice:1*t.ticketOffer.costAfterDiscountCents},on:{"remove-invite":function(e){return t.removeInvite(e)},"toggle-invite-paid":function(e){return t.toggleInvitePaid(e)},checkout:t.checkout}})],1)])])])])])},s=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("section",{staticClass:"container section-spacing"},[n("div",{staticClass:"columns is-centered"},[n("div",{staticClass:"column is-9"},[n("h1",{staticClass:"title is-1"},[t._v("Invite Others")]),n("h2",{staticClass:"subtitle is-4"},[t._v("\n          Buy tickets for or invite others\n        ")])])])])}],r=(n("7514"),n("cebc")),a=n("b5ae"),o=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[t._m(0),n("p",[t._v("\n    You have\n    "),n("strong",{staticClass:"has-text-primary"},[t._v("\n      "+t._s(t.allocationLeft)+"\n    ")]),t._v("\n    "+t._s(t.plural?"opportunities":"opportunity")+"\n    left to purchase tickets for others, or invite them to purchase their own.\n    There\n    "+t._s(t.pluralTickets?"are":"is")+" currently\n    "),n("strong",{staticClass:"has-text-primary"},[t._v(t._s(t.ticketsLeft))]),t._v("\n    "+t._s(t.pluralTickets?"tickets":"ticket")+" left. Don't miss out!\n  ")])])},c=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("p",[n("span",{staticClass:"is-size-5"},[t._v("\n      You're almost there!\n    ")])])}],l=(n("c5f6"),{name:"CopyInviteAndBuy",props:{allocationLeft:{type:Number,required:!0},event:{type:Object,required:!0}},computed:{plural:function(){return 1!==this.allocationLeft},pluralTickets:function(){return this.ticketsLeft>1},ticketsLeft:function(){return this.event.standardTicketsLeft}}}),u=l,f=n("2877"),d=Object(f["a"])(u,o,c,!1,null,null,null),p=d.exports,v=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"ticket-preview column"},[n("h3",{staticClass:"title is-4"},[t._v(t._s(t.person.firstName)+" "+t._s(t.person.lastName))]),n("h3",{staticClass:"subtitle is-4"},[t._v(t._s(t.person.email))])])},m=[],h={name:"TicketPreview",props:{person:{type:Object,required:!0},ticketOffer:{type:Object,required:!0},event:{type:Object,required:!0}},computed:{plural:function(){return this.ticketOffer.ticketCount>1},ticketsLeft:function(){return this.event.standardTicketsLeft}}},b=h,y=(n("6794"),Object(f["a"])(b,v,m,!1,null,null,null)),k=y.exports,_=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"ticket-preview column is-clearfix"},[n("b-field",{attrs:{label:"First Name",horizontal:"",type:{"is-danger":t.$v.invite.firstName.$error},message:t.$v.invite.firstName.$error?"Please enter your first name":""}},[n("b-input",{attrs:{placeholder:"Leslie",disabled:t.allocationReached,type:"text",icon:"account"},on:{blur:function(e){return t.$v.invite.firstName.$touch()}},model:{value:t.invite.firstName,callback:function(e){t.$set(t.invite,"firstName",e)},expression:"invite.firstName"}})],1),n("b-field",{attrs:{label:"Last Name",horizontal:"",type:{"is-danger":t.$v.invite.lastName.$error},message:t.$v.invite.lastName.$error?"Please enter your last name":""}},[n("b-input",{attrs:{placeholder:"Miles",disabled:t.allocationReached,type:"text",icon:"account"},on:{blur:function(e){return t.$v.invite.lastName.$touch()}},model:{value:t.invite.lastName,callback:function(e){t.$set(t.invite,"lastName",e)},expression:"invite.lastName"}})],1),n("b-field",{attrs:{label:"Email",horizontal:"",type:{"is-danger":t.$v.invite.email.$error},message:t.$v.invite.email.$error?"Please enter your email":""}},[n("b-input",{attrs:{placeholder:"francis@example.com",disabled:t.allocationReached,type:"email",icon:"email"},on:{blur:function(e){return t.$v.invite.email.$touch()}},model:{value:t.invite.email,callback:function(e){t.$set(t.invite,"email",e)},expression:"invite.email"}})],1),n("b-field",{attrs:{label:"Paid For?",horizontal:""}},[n("b-checkbox",{attrs:{disabled:t.allocationReached,size:"is-medium"},model:{value:t.invite.paidFor,callback:function(e){t.$set(t.invite,"paidFor",e)},expression:"invite.paidFor"}},[t._v("\n      I will pay for this ticket\n    ")])],1),n("button",{staticClass:"add-button button is-primary is-medium is-pulled-right",attrs:{type:"button",disabled:t.allocationReached},on:{click:function(e){return e.preventDefault(),t.addInvite(e)}}},[t._v("\n    Add Invite\n  ")])],1)},g=[],C={name:"NewInviteForm",props:{newInvite:{type:Object,required:!0},allocationReached:{type:Boolean,required:!0}},data:function(){return{invite:Object(r["a"])({},this.newInvite)}},validations:{invite:{firstName:{required:a["required"]},lastName:{required:a["required"]},email:{required:a["required"],email:a["email"]},paidFor:{}}},methods:{addInvite:function(){this.$v.$touch(),this.$v.$invalid||(this.$emit("add-invite",this.invite),this.invite=Object(r["a"])({},this.newInvite),this.$v.$reset())}}},O=C,$=(n("eddd"),Object(f["a"])(O,_,g,!1,null,null,null)),w=$.exports,N=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("aside",[n("h3",{staticClass:"title is-4"},[t._v("Order Tally")]),n("h4",{staticClass:"title is-5"},[t._v("Tickets")]),n("OrderTallyRow",{attrs:{invite:t.person,price:t.formattedTicketPrice,forPurchaser:""}}),t._l(t.invites,function(e,i){return n("div",[e.paidFor?n("OrderTallyRow",{key:e.email,attrs:{invite:e,price:t.formattedTicketPrice,position:"paid"},on:{"remove-tally-row":function(n){return t.$emit("remove-invite",e.id)},"toggle-invite-paid":function(n){return t.$emit("toggle-invite-paid",e.id)}}}):t._e()],1)}),n("h4",{staticClass:"title is-5"},[t._v("Invites")]),t._l(t.invites,function(e,i){return n("div",[e.paidFor?t._e():n("OrderTallyRow",{key:e.email,attrs:{invite:e,price:t.formattedTicketPrice,position:"unpaid"},on:{"remove-tally-row":function(n){return t.$emit("remove-invite",e.id)},"toggle-invite-paid":function(n){return t.$emit("toggle-invite-paid",e.id)}}})],1)}),n("div",{staticClass:"tally-row"},[n("div",{staticClass:"tally-row__name"},[t._v("\n      total:\n    ")]),n("div",{staticClass:"tally-row__price"},[t._v("\n      "+t._s(t.formattedOrderTotal)+"\n    ")])]),n("button",{staticClass:"button is-primary is-medium is-fullwidth",attrs:{type:"button",role:"link"},on:{click:function(e){return e.preventDefault(),t.$emit("checkout")}}},[t._v("\n    Checkout\n  ")])],2)},x=[],T=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"tally-row"},[n("div",{staticClass:"tally-row__name"},[t.forPurchaser?t._e():n("b-tooltip",{staticClass:"tally-row__button",attrs:{label:"Remove "+t.invite.firstName}},[n("b-icon",{attrs:{icon:"close"},nativeOn:{click:function(e){return t.$emit("remove-tally-row")}}})],1),t.forPurchaser?t._e():n("b-tooltip",{staticClass:"tally-row__button",attrs:{label:"Move "+t.invite.firstName+" to "+t.moveText}},[n("b-icon",{attrs:{icon:t.moveIcon},nativeOn:{click:function(e){return t.$emit("toggle-invite-paid")}}})],1),t._v("\n\n    "+t._s(t.invite.firstName)+"\n  ")],1),n("div",{staticClass:"tally-row__price"},[t.invite.paidFor||t.forPurchaser?n("span",[t._v("\n      "+t._s(t.price)+"\n    ")]):n("span",[t._v("\n      free\n    ")])])])},q=[],A={name:"OrderTallyRow",props:{invite:{type:Object,required:!0},price:{type:String,required:!0},position:{type:String,default:"paid"},forPurchaser:{type:Boolean,default:!1}},computed:{moveText:function(){return{paid:"unpaid",unpaid:"paid"}[this.position]},moveIcon:function(){return{paid:"arrow-down-bold-outline",unpaid:"arrow-up-bold-outline"}[this.position]}}},I=A,P=(n("8d90"),Object(f["a"])(I,T,q,!1,null,null,null)),j=P.exports,S={name:"OrderTally",components:{OrderTallyRow:j},props:{person:{type:Object,required:!0},paidInviteCount:{type:Number,required:!0},invites:{type:Array,required:!0},ticketPrice:{type:Number,required:!0}},computed:{formattedTicketPrice:function(){return"$".concat(this.ticketPrice/100)},orderTotal:function(){return(1+this.paidInviteCount)*this.ticketPrice},formattedOrderTotal:function(){return"$".concat(this.orderTotal/100)},plural:function(){return this.ticketOffer.ticketCount>1},ticketsLeft:function(){return this.event.standardTicketsLeft}}},E=S,R=Object(f["a"])(E,N,x,!1,null,null,null),F=R.exports,D=n("3c34"),Q=n("323e"),L=n.n(Q),B=n("75cd"),Y=n("2f62"),M={name:"TicketOfferPurchase",components:{CopyInviteAndBuy:p,TicketPreview:k,NewInviteForm:w,OrderTally:F},props:{existingInvites:{type:Array,required:!0},newInvite:{type:Object,required:!0}},mixins:[B["a"]],data:function(){return{isRejectModalActive:!1,invites:this.existingInvites,invitesOld:[]}},computed:Object(r["a"])({},Object(Y["b"])({event:"events/event",person:"people/person",ticketOffer:"ticketOffers/ticketOffer"}),{paidInvites:function(){return this.invites.filter(function(t){return t.paidFor})},paidInviteCount:function(){return this.paidInvites.length},unPaidInvites:function(){return this.invites.filter(function(t){return!t.paidFor})},formattedTicketPrice:function(){return"$".concat(this.ticketOffer.costAfterDiscountCents/100)},ticketsLeft:function(){return this.event.standardTicketsLeft},allocationLeft:function(){return this.ticketOffer.ticketCount-1-this.invites.length},allocationReached:function(){return this.allocationLeft<=0}}),validations:{invites:{required:a["required"],$each:{firstName:{required:a["required"]},lastName:{required:a["required"]},email:{required:a["required"],email:a["email"]},paidFor:{}}}},methods:{addInvite:function(t){var e=this;if(this.allocationReached)return null;t.ticketOfferId=this.ticketOffer.id,D["a"].createInvite(this.event.slug,this.ticketOffer.id,t).then(function(t){e.invites=t.data.invites,t.data.error&&e.$snackbar.open({message:t.data.error,type:"is-danger",position:"is-bottom-left"})}).catch(function(t){console.log("create invite error",t)})},removeInvite:function(t){var e=this;D["a"].deleteInvite(t).then(function(t){e.invites=t.data.invites}).catch(function(t){console.log("delete invite error",t)})},toggleInvitePaid:function(t){var e=this,n=this.invites.find(function(e){return e.id===t});D["a"].updateInvite(t,Object(r["a"])({},n,{paidFor:!n.paidFor})).then(function(t){e.invites=t.data.invites}).catch(function(t){console.log("update invite error",t)})},checkout:function(){L.a.start(),D["a"].createStripeSession({ticketOfferId:this.ticketOffer.id,eventId:this.event.id}).then(function(t){var e="pk_live_nYT6MXu8PbzNd1UyYNyUsrDC00FIoSi0hH",n=Stripe(e);n.redirectToCheckout({sessionId:t.data.stripeSessionId}).then(function(t){})})}}},G=M,z=(n("735c"),Object(f["a"])(G,i,s,!1,null,"7647e274",null));e["default"]=z.exports},"735c":function(t,e,n){"use strict";var i=n("502b"),s=n.n(i);s.a},7514:function(t,e,n){"use strict";var i=n("5ca1"),s=n("0a49")(5),r="find",a=!0;r in[]&&Array(1)[r](function(){a=!1}),i(i.P+i.F*a,"Array",{find:function(t){return s(this,t,arguments.length>1?arguments[1]:void 0)}}),n("9c6c")(r)},7599:function(t,e,n){},"75cd":function(t,e,n){"use strict";n.d(e,"a",function(){return i});var i={computed:{personName:function(){return this.person.lastName?"".concat(this.person.firstName," ").concat(this.person.lastName):this.person.firstName}}}},"7bbc":function(t,e,n){var i=n("6821"),s=n("9093").f,r={}.toString,a="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],o=function(t){try{return s(t)}catch(e){return a.slice()}};t.exports.f=function(t){return a&&"[object Window]"==r.call(t)?o(t):s(i(t))}},"7e58":function(t,e,n){},"8a81":function(t,e,n){"use strict";var i=n("7726"),s=n("69a8"),r=n("9e1e"),a=n("5ca1"),o=n("2aba"),c=n("67ab").KEY,l=n("79e5"),u=n("5537"),f=n("7f20"),d=n("ca5a"),p=n("2b4c"),v=n("37c8"),m=n("3a72"),h=n("d4c0"),b=n("1169"),y=n("cb7c"),k=n("d3f4"),_=n("4bf8"),g=n("6821"),C=n("6a99"),O=n("4630"),$=n("2aeb"),w=n("7bbc"),N=n("11e9"),x=n("2621"),T=n("86cc"),q=n("0d58"),A=N.f,I=T.f,P=w.f,j=i.Symbol,S=i.JSON,E=S&&S.stringify,R="prototype",F=p("_hidden"),D=p("toPrimitive"),Q={}.propertyIsEnumerable,L=u("symbol-registry"),B=u("symbols"),Y=u("op-symbols"),M=Object[R],G="function"==typeof j&&!!x.f,z=i.QObject,K=!z||!z[R]||!z[R].findChild,U=r&&l(function(){return 7!=$(I({},"a",{get:function(){return I(this,"a",{value:7}).a}})).a})?function(t,e,n){var i=A(M,e);i&&delete M[e],I(t,e,n),i&&t!==M&&I(M,e,i)}:I,W=function(t){var e=B[t]=$(j[R]);return e._k=t,e},H=G&&"symbol"==typeof j.iterator?function(t){return"symbol"==typeof t}:function(t){return t instanceof j},V=function(t,e,n){return t===M&&V(Y,e,n),y(t),e=C(e,!0),y(n),s(B,e)?(n.enumerable?(s(t,F)&&t[F][e]&&(t[F][e]=!1),n=$(n,{enumerable:O(0,!1)})):(s(t,F)||I(t,F,O(1,{})),t[F][e]=!0),U(t,e,n)):I(t,e,n)},J=function(t,e){y(t);var n,i=h(e=g(e)),s=0,r=i.length;while(r>s)V(t,n=i[s++],e[n]);return t},X=function(t,e){return void 0===e?$(t):J($(t),e)},Z=function(t){var e=Q.call(this,t=C(t,!0));return!(this===M&&s(B,t)&&!s(Y,t))&&(!(e||!s(this,t)||!s(B,t)||s(this,F)&&this[F][t])||e)},tt=function(t,e){if(t=g(t),e=C(e,!0),t!==M||!s(B,e)||s(Y,e)){var n=A(t,e);return!n||!s(B,e)||s(t,F)&&t[F][e]||(n.enumerable=!0),n}},et=function(t){var e,n=P(g(t)),i=[],r=0;while(n.length>r)s(B,e=n[r++])||e==F||e==c||i.push(e);return i},nt=function(t){var e,n=t===M,i=P(n?Y:g(t)),r=[],a=0;while(i.length>a)!s(B,e=i[a++])||n&&!s(M,e)||r.push(B[e]);return r};G||(j=function(){if(this instanceof j)throw TypeError("Symbol is not a constructor!");var t=d(arguments.length>0?arguments[0]:void 0),e=function(n){this===M&&e.call(Y,n),s(this,F)&&s(this[F],t)&&(this[F][t]=!1),U(this,t,O(1,n))};return r&&K&&U(M,t,{configurable:!0,set:e}),W(t)},o(j[R],"toString",function(){return this._k}),N.f=tt,T.f=V,n("9093").f=w.f=et,n("52a7").f=Z,x.f=nt,r&&!n("2d00")&&o(M,"propertyIsEnumerable",Z,!0),v.f=function(t){return W(p(t))}),a(a.G+a.W+a.F*!G,{Symbol:j});for(var it="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),st=0;it.length>st;)p(it[st++]);for(var rt=q(p.store),at=0;rt.length>at;)m(rt[at++]);a(a.S+a.F*!G,"Symbol",{for:function(t){return s(L,t+="")?L[t]:L[t]=j(t)},keyFor:function(t){if(!H(t))throw TypeError(t+" is not a symbol!");for(var e in L)if(L[e]===t)return e},useSetter:function(){K=!0},useSimple:function(){K=!1}}),a(a.S+a.F*!G,"Object",{create:X,defineProperty:V,defineProperties:J,getOwnPropertyDescriptor:tt,getOwnPropertyNames:et,getOwnPropertySymbols:nt});var ot=l(function(){x.f(1)});a(a.S+a.F*ot,"Object",{getOwnPropertySymbols:function(t){return x.f(_(t))}}),S&&a(a.S+a.F*(!G||l(function(){var t=j();return"[null]"!=E([t])||"{}"!=E({a:t})||"{}"!=E(Object(t))})),"JSON",{stringify:function(t){var e,n,i=[t],s=1;while(arguments.length>s)i.push(arguments[s++]);if(n=e=i[1],(k(e)||void 0!==t)&&!H(t))return b(e)||(e=function(t,e){if("function"==typeof n&&(e=n.call(this,t,e)),!H(e))return e}),i[1]=e,E.apply(S,i)}}),j[R][D]||n("32e9")(j[R],D,j[R].valueOf),f(j,"Symbol"),f(Math,"Math",!0),f(i.JSON,"JSON",!0)},"8b97":function(t,e,n){var i=n("d3f4"),s=n("cb7c"),r=function(t,e){if(s(t),!i(e)&&null!==e)throw TypeError(e+": can't set as prototype!")};t.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(t,e,i){try{i=n("9b43")(Function.call,n("11e9").f(Object.prototype,"__proto__").set,2),i(t,[]),e=!(t instanceof Array)}catch(s){e=!0}return function(t,n){return r(t,n),e?t.__proto__=n:i(t,n),t}}({},!1):void 0),check:r}},"8d90":function(t,e,n){"use strict";var i=n("ac3c"),s=n.n(i);s.a},9093:function(t,e,n){var i=n("ce10"),s=n("e11e").concat("length","prototype");e.f=Object.getOwnPropertyNames||function(t){return i(t,s)}},"9bab":function(t,e,n){"use strict";var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"field"},[n("b-field",{attrs:{label:"Please enter your address",type:{"is-danger":t.validation.$error},message:t.validation.$error?"Please enter your address and pick from the list":""}},[n("vue-google-autocomplete",{class:{"is-danger":t.validation.$error},attrs:{id:"map",classname:"input",autocomplete:"off",placeholder:t.addressPlaceholder,"enable-geolocation":!0},on:{placechanged:t.getAddressData,blur:function(e){return t.validation.$touch()}}})],1),Object.keys(t.value).length>0?n("div",{staticClass:"has-text-right is-success address-confirmation"},[n("b-icon",{attrs:{icon:"check-circle",type:"is-success",size:"is-small"}}),t._v("\n    "+t._s(t.formattedAddress)+"\n  ")],1):t._e()],1)},s=[],r=(n("ac6a"),n("456d"),n("0118")),a={name:"AddressField",components:{VueGoogleAutocomplete:r["a"]},props:{value:{type:Object,required:!0},validation:{type:Object,required:!0}},computed:{formattedAddress:function(){return Object.keys(this.value).length>0&&this.value.constructor===Object?"".concat(this.value.streetNumber," ").concat(this.value.route,", ").concat(this.value.locality,", ").concat(this.value.administrativeAreaLevel1,", ").concat(this.value.postalCode):null},addressPlaceholder:function(){return this.formattedAddress?this.formattedAddress:"123 road suburb city country"}},methods:{getAddressData:function(t){this.$emit("input",{streetNumber:t.street_number,route:t.route,locality:t.locality,administrativeAreaLevel1:t.administrative_area_level_1,country:t.country,postalCode:t.postal_code,latitude:t.latitude,longitude:t.longitude})}}},o=a,c=(n("2233"),n("2877")),l=Object(c["a"])(o,i,s,!1,null,"811edc28",null);e["a"]=l.exports},aa77:function(t,e,n){var i=n("5ca1"),s=n("be13"),r=n("79e5"),a=n("fdef"),o="["+a+"]",c="​",l=RegExp("^"+o+o+"*"),u=RegExp(o+o+"*$"),f=function(t,e,n){var s={},o=r(function(){return!!a[t]()||c[t]()!=c}),l=s[t]=o?e(d):a[t];n&&(s[n]=l),i(i.P+i.F*o,"String",s)},d=f.trim=function(t,e){return t=String(s(t)),1&e&&(t=t.replace(l,"")),2&e&&(t=t.replace(u,"")),t};t.exports=f},ac3c:function(t,e,n){},ac4d:function(t,e,n){n("3a72")("asyncIterator")},b2a3:function(t,e,n){"use strict";var i=n("7599"),s=n.n(i);s.a},c5f6:function(t,e,n){"use strict";var i=n("7726"),s=n("69a8"),r=n("2d95"),a=n("5dbc"),o=n("6a99"),c=n("79e5"),l=n("9093").f,u=n("11e9").f,f=n("86cc").f,d=n("aa77").trim,p="Number",v=i[p],m=v,h=v.prototype,b=r(n("2aeb")(h))==p,y="trim"in String.prototype,k=function(t){var e=o(t,!1);if("string"==typeof e&&e.length>2){e=y?e.trim():d(e,3);var n,i,s,r=e.charCodeAt(0);if(43===r||45===r){if(n=e.charCodeAt(2),88===n||120===n)return NaN}else if(48===r){switch(e.charCodeAt(1)){case 66:case 98:i=2,s=49;break;case 79:case 111:i=8,s=55;break;default:return+e}for(var a,c=e.slice(2),l=0,u=c.length;l<u;l++)if(a=c.charCodeAt(l),a<48||a>s)return NaN;return parseInt(c,i)}}return+e};if(!v(" 0o1")||!v("0b1")||v("+0x1")){v=function(t){var e=arguments.length<1?0:t,n=this;return n instanceof v&&(b?c(function(){h.valueOf.call(n)}):r(n)!=p)?a(new m(k(e)),n,v):k(e)};for(var _,g=n("9e1e")?l(m):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),C=0;g.length>C;C++)s(m,_=g[C])&&!s(v,_)&&f(v,_,u(m,_));v.prototype=h,h.constructor=v,n("2aba")(i,p,v)}},cd1c:function(t,e,n){var i=n("e853");t.exports=function(t,e){return new(i(t))(e)}},d3e5:function(t,e,n){},d4c0:function(t,e,n){var i=n("0d58"),s=n("2621"),r=n("52a7");t.exports=function(t){var e=i(t),n=s.f;if(n){var a,o=n(t),c=r.f,l=0;while(o.length>l)c.call(t,a=o[l++])&&e.push(a)}return e}},de8f:function(t,e,n){"use strict";var i=n("07c7"),s=n.n(i);s.a},dfb5:function(t,e,n){"use strict";var i=n("3882"),s=n.n(i);s.a},e853:function(t,e,n){var i=n("d3f4"),s=n("1169"),r=n("2b4c")("species");t.exports=function(t){var e;return s(t)&&(e=t.constructor,"function"!=typeof e||e!==Array&&!s(e.prototype)||(e=void 0),i(e)&&(e=e[r],null===e&&(e=void 0))),void 0===e?Array:e}},eddd:function(t,e,n){"use strict";var i=n("d3e5"),s=n.n(i);s.a},fbd8:function(t,e,n){},fdef:function(t,e){t.exports="\t\n\v\f\r   ᠎             　\u2028\u2029\ufeff"},ff89:function(t,e,n){"use strict";n.r(e);var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"section"},[n("section",{staticClass:"container section-spacing"},[n("div",{staticClass:"columns is-centered"},[n("div",{staticClass:"column is-8"},[n("h1",{staticClass:"title is-1"},[t._v("Update Ticket Details")]),n("h1",{staticClass:"subtitle is-2"},[t._v(t._s(t.event.title))])])])]),n("section",{staticClass:"container section-spacing content"},[n("div",{staticClass:"columns is-centered"},[n("div",{staticClass:"column is-7"},[n("p",{staticClass:"is-size-4"},[t._v("\n          Hi\n          "),n("span",{staticClass:"has-text-primary"},[t._v(t._s(t.personName))])]),n("p",[t._v("\n          Please update your Ticket information.\n        ")]),t._m(0)])])]),n("section",{staticClass:"container"},[n("div",{staticClass:"columns is-centered"},[n("div",{staticClass:"column is-6"},[n("form",{on:{submit:function(e){return e.preventDefault(),t.updateInfo(e)}}},[n("h2",{staticClass:"title has-text-poppins is-5 has-red-stripe"},[t._v("\n            Your Contact Info\n          ")]),n("b-field",{attrs:{label:"First Name",type:{"is-danger":t.$v.personAnswers.firstName.$error},message:t.$v.personAnswers.firstName.$error?"Please enter your first name":""}},[n("b-input",{attrs:{placeholder:"Leslie",type:"text",icon:"account"},on:{blur:function(e){return t.$v.personAnswers.firstName.$touch()}},model:{value:t.personAnswers.firstName,callback:function(e){t.$set(t.personAnswers,"firstName",e)},expression:"personAnswers.firstName"}})],1),n("b-field",{attrs:{label:"Last Name",type:{"is-danger":t.$v.personAnswers.lastName.$error},message:t.$v.personAnswers.lastName.$error?"Please enter your last name":""}},[n("b-input",{attrs:{placeholder:"Miles",type:"text",icon:"account"},on:{blur:function(e){return t.$v.personAnswers.lastName.$touch()}},model:{value:t.personAnswers.lastName,callback:function(e){t.$set(t.personAnswers,"lastName",e)},expression:"personAnswers.lastName"}})],1),n("b-field",{attrs:{label:"Email",type:{"is-danger":t.$v.personAnswers.email.$error||t.errors.email},message:t.errors.email?t.errors.email:""}},[n("b-input",{attrs:{placeholder:"francis@example.com",type:"email",icon:"email"},on:{blur:function(e){return t.$v.personAnswers.email.$touch()}},model:{value:t.personAnswers.email,callback:function(e){t.$set(t.personAnswers,"email",e)},expression:"personAnswers.email"}})],1),n("fieldset",[n("legend",{staticClass:"label"},[t._v("\n              Do you have any Dietary Requirements?\n            ")]),n("div",{staticClass:"checkbox-row"},t._l(t.dietaryRequirements,function(e){return n("b-checkbox",{key:e,staticClass:"checkbox-column",attrs:{"native-value":e},model:{value:t.personAnswers.data.dietaryRequirements,callback:function(e){t.$set(t.personAnswers.data,"dietaryRequirements",e)},expression:"personAnswers.data.dietaryRequirements"}},[t._v("\n                "+t._s(e)+"\n              ")])}),1)]),n("fieldset",[n("legend",{staticClass:"label"},[t._v("\n              Do you have any Accessability Requirements?\n            ")]),n("div",{staticClass:"checkbox-row"},t._l(t.accessabilityRequirements,function(e){return n("b-checkbox",{key:e,staticClass:"checkbox-column",attrs:{"native-value":e},model:{value:t.personAnswers.data.accessabilityRequirements,callback:function(e){t.$set(t.personAnswers.data,"accessabilityRequirements",e)},expression:"personAnswers.data.accessabilityRequirements"}},[t._v("\n                "+t._s(e)+"\n              ")])}),1)]),n("input",{staticClass:"button is-medium is-pulled-right is-primary",attrs:{type:"submit",value:"Update info"}})],1)])])])])},s=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("p",[n("strong",{staticClass:"has-text-primary"},[t._v("\n            The TEDxAuckland team\n          ")])])}],r=n("6c3f"),a=n("323e"),o=n.n(a),c=n("b5ae"),l=n("75cd"),u={name:"TicketDetails",props:{person:{type:Object,required:!0},ticketOffer:{type:Object,required:!0},event:{type:Object,required:!0}},mixins:[l["a"]],validations:{personAnswers:{firstName:{required:c["required"]},lastName:{required:c["required"]},email:{required:c["required"],email:c["email"]}}},data:function(){return{personAnswers:this.person,errors:{}}},methods:{snackbar:function(){this.$snackbar.open("Default, positioned bottom-right with a green 'OK' button")},updateInfo:function(){var t=this;this.$v.$touch(),this.$v.$invalid||(o.a.start(),r["a"].updateProfile(this.person.id,{person:{firstName:this.personAnswers.firstName,lastName:this.personAnswers.lastName,email:this.personAnswers.email},profile:this.personAnswers.data}).then(function(){o.a.done(),t.$snackbar.open("Successfully updated Ticket Details")}).catch(function(t){o.a.done(),console.log("ERROR",t)}))}},computed:{dietaryRequirements:function(){return this.$store.state.dietaryRequirements},accessabilityRequirements:function(){return this.$store.state.accessabilityRequirements}}},f=u,d=(n("dfb5"),n("2877")),p=Object(d["a"])(f,i,s,!1,null,null,null);e["default"]=p.exports}}]);
//# sourceMappingURL=ticket-offer-application.9af94518.js.map