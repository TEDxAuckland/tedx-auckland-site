(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["partner-registration"],{"014b":function(e,t,n){"use strict";var r=n("e53d"),s=n("07e3"),i=n("8e60"),a=n("63b6"),o=n("9138"),c=n("ebfd").KEY,u=n("294c"),l=n("dbdb"),f=n("45f2"),p=n("62a0"),d=n("5168"),b=n("ccb9"),m=n("6718"),v=n("47ee"),h=n("9003"),y=n("e4ae"),g=n("f772"),w=n("241e"),O=n("36c3"),k=n("1bc3"),C=n("aebd"),_=n("a159"),j=n("0395"),x=n("bf0b"),A=n("9aa9"),N=n("d9f6"),S=n("c3a1"),P=x.f,$=N.f,R=j.f,q=r.Symbol,E=r.JSON,T=E&&E.stringify,D="prototype",M=d("_hidden"),F=d("toPrimitive"),I={}.propertyIsEnumerable,J=l("symbol-registry"),Y=l("symbols"),W=l("op-symbols"),K=Object[D],z="function"==typeof q&&!!A.f,G=r.QObject,L=!G||!G[D]||!G[D].findChild,U=i&&u(function(){return 7!=_($({},"a",{get:function(){return $(this,"a",{value:7}).a}})).a})?function(e,t,n){var r=P(K,t);r&&delete K[t],$(e,t,n),r&&e!==K&&$(K,t,r)}:$,Q=function(e){var t=Y[e]=_(q[D]);return t._k=e,t},B=z&&"symbol"==typeof q.iterator?function(e){return"symbol"==typeof e}:function(e){return e instanceof q},H=function(e,t,n){return e===K&&H(W,t,n),y(e),t=k(t,!0),y(n),s(Y,t)?(n.enumerable?(s(e,M)&&e[M][t]&&(e[M][t]=!1),n=_(n,{enumerable:C(0,!1)})):(s(e,M)||$(e,M,C(1,{})),e[M][t]=!0),U(e,t,n)):$(e,t,n)},V=function(e,t){y(e);var n,r=v(t=O(t)),s=0,i=r.length;while(i>s)H(e,n=r[s++],t[n]);return e},X=function(e,t){return void 0===t?_(e):V(_(e),t)},Z=function(e){var t=I.call(this,e=k(e,!0));return!(this===K&&s(Y,e)&&!s(W,e))&&(!(t||!s(this,e)||!s(Y,e)||s(this,M)&&this[M][e])||t)},ee=function(e,t){if(e=O(e),t=k(t,!0),e!==K||!s(Y,t)||s(W,t)){var n=P(e,t);return!n||!s(Y,t)||s(e,M)&&e[M][t]||(n.enumerable=!0),n}},te=function(e){var t,n=R(O(e)),r=[],i=0;while(n.length>i)s(Y,t=n[i++])||t==M||t==c||r.push(t);return r},ne=function(e){var t,n=e===K,r=R(n?W:O(e)),i=[],a=0;while(r.length>a)!s(Y,t=r[a++])||n&&!s(K,t)||i.push(Y[t]);return i};z||(q=function(){if(this instanceof q)throw TypeError("Symbol is not a constructor!");var e=p(arguments.length>0?arguments[0]:void 0),t=function(n){this===K&&t.call(W,n),s(this,M)&&s(this[M],e)&&(this[M][e]=!1),U(this,e,C(1,n))};return i&&L&&U(K,e,{configurable:!0,set:t}),Q(e)},o(q[D],"toString",function(){return this._k}),x.f=ee,N.f=H,n("6abf").f=j.f=te,n("355d").f=Z,A.f=ne,i&&!n("b8e3")&&o(K,"propertyIsEnumerable",Z,!0),b.f=function(e){return Q(d(e))}),a(a.G+a.W+a.F*!z,{Symbol:q});for(var re="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),se=0;re.length>se;)d(re[se++]);for(var ie=S(d.store),ae=0;ie.length>ae;)m(ie[ae++]);a(a.S+a.F*!z,"Symbol",{for:function(e){return s(J,e+="")?J[e]:J[e]=q(e)},keyFor:function(e){if(!B(e))throw TypeError(e+" is not a symbol!");for(var t in J)if(J[t]===e)return t},useSetter:function(){L=!0},useSimple:function(){L=!1}}),a(a.S+a.F*!z,"Object",{create:X,defineProperty:H,defineProperties:V,getOwnPropertyDescriptor:ee,getOwnPropertyNames:te,getOwnPropertySymbols:ne});var oe=u(function(){A.f(1)});a(a.S+a.F*oe,"Object",{getOwnPropertySymbols:function(e){return A.f(w(e))}}),E&&a(a.S+a.F*(!z||u(function(){var e=q();return"[null]"!=T([e])||"{}"!=T({a:e})||"{}"!=T(Object(e))})),"JSON",{stringify:function(e){var t,n,r=[e],s=1;while(arguments.length>s)r.push(arguments[s++]);if(n=t=r[1],(g(t)||void 0!==e)&&!B(e))return h(t)||(t=function(e,t){if("function"==typeof n&&(t=n.call(this,e,t)),!B(t))return t}),r[1]=t,T.apply(E,r)}}),q[D][F]||n("35e8")(q[D],F,q[D].valueOf),f(q,"Symbol"),f(Math,"Math",!0),f(r.JSON,"JSON",!0)},"0395":function(e,t,n){var r=n("36c3"),s=n("6abf").f,i={}.toString,a="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],o=function(e){try{return s(e)}catch(t){return a.slice()}};e.exports.f=function(e){return a&&"[object Window]"==i.call(e)?o(e):s(r(e))}},"268f":function(e,t,n){e.exports=n("fde4")},"32a6":function(e,t,n){var r=n("241e"),s=n("c3a1");n("ce7e")("keys",function(){return function(e){return s(r(e))}})},"355d":function(e,t){t.f={}.propertyIsEnumerable},"454f":function(e,t,n){n("46a7");var r=n("584a").Object;e.exports=function(e,t,n){return r.defineProperty(e,t,n)}},"46a7":function(e,t,n){var r=n("63b6");r(r.S+r.F*!n("8e60"),"Object",{defineProperty:n("d9f6").f})},"47ee":function(e,t,n){var r=n("c3a1"),s=n("9aa9"),i=n("355d");e.exports=function(e){var t=r(e),n=s.f;if(n){var a,o=n(e),c=i.f,u=0;while(o.length>u)c.call(e,a=o[u++])&&t.push(a)}return t}},6718:function(e,t,n){var r=n("e53d"),s=n("584a"),i=n("b8e3"),a=n("ccb9"),o=n("d9f6").f;e.exports=function(e){var t=s.Symbol||(s.Symbol=i?{}:r.Symbol||{});"_"==e.charAt(0)||e in t||o(t,e,{value:a.f(e)})}},"6abf":function(e,t,n){var r=n("e6f3"),s=n("1691").concat("length","prototype");t.f=Object.getOwnPropertyNames||function(e){return r(e,s)}},"721c":function(e,t,n){},"75cd":function(e,t,n){"use strict";n.d(t,"a",function(){return r});var r={computed:{personName:function(){return this.person.lastName?"".concat(this.person.firstName," ").concat(this.person.lastName):this.person.firstName}}}},8324:function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return"pending"===e.ticketOffer.status||"purchased"===e.ticketOffer.status?n("partner-registration-pending",{attrs:{event:e.event,person:e.person,ticketOffer:e.ticketOffer}}):"surrendered"===e.ticketOffer.status?n("partner-registration-surrendered",{attrs:{event:e.event,person:e.person}}):e._e()},s=[],i=n("cebc"),a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"section"},[n("section",{staticClass:"container section-spacing"},[n("div",{staticClass:"columns is-centered"},[n("div",{staticClass:"column is-8"},[n("h1",{staticClass:"title is-1"},[e._v(e._s(e.pageTitle))]),n("h2",{staticClass:"subtitle is-4"},[e._v("\n          "+e._s(e.pageSubTitle)+"\n        ")])])])]),n("section",{staticClass:"container section-spacing"},[n("div",{staticClass:"columns is-centered content"},[n("div",{staticClass:"column is-8"},[n("Markdown",{attrs:{input:e.pageContent}})],1)])]),n("section",{staticClass:"container"},[n("div",{staticClass:"columns is-centered"},[n("div",{staticClass:"column is-6"},[n("form",{on:{submit:function(t){return t.preventDefault(),e.register(t)}}},[n("h2",{staticClass:"title has-text-poppins is-5 has-red-stripe"},[e._v("\n            let's first confirm a few details about you\n          ")]),n("b-field",{attrs:{label:"First Name",type:{"is-danger":e.$v.personAnswers.firstName.$error},message:e.$v.personAnswers.firstName.$error?"Please enter your first name":""}},[n("b-input",{attrs:{placeholder:"Leslie",type:"text",icon:"account"},on:{blur:function(t){return e.$v.personAnswers.firstName.$touch()}},model:{value:e.personAnswers.firstName,callback:function(t){e.$set(e.personAnswers,"firstName",t)},expression:"personAnswers.firstName"}})],1),n("b-field",{attrs:{label:"Last Name",type:{"is-danger":e.$v.personAnswers.lastName.$error},message:e.$v.personAnswers.lastName.$error?"Please enter your last name":""}},[n("b-input",{attrs:{placeholder:"Miles",type:"text",icon:"account"},on:{blur:function(t){return e.$v.personAnswers.lastName.$touch()}},model:{value:e.personAnswers.lastName,callback:function(t){e.$set(e.personAnswers,"lastName",t)},expression:"personAnswers.lastName"}})],1),n("b-field",{attrs:{label:"Email",type:{"is-danger":e.$v.personAnswers.email.$error||e.errors.email},message:e.errors.email?e.errors.email:""}},[n("b-input",{attrs:{placeholder:"francis@example.com",type:"email",icon:"email"},on:{blur:function(t){return e.$v.personAnswers.email.$touch()}},model:{value:e.personAnswers.email,callback:function(t){e.$set(e.personAnswers,"email",t)},expression:"personAnswers.email"}})],1),n("fieldset",[n("legend",{staticClass:"label"},[e._v("\n              Do you have any Dietary Requirements?\n            ")]),n("div",{staticClass:"checkbox-row"},e._l(e.dietaryRequirements,function(t){return n("b-checkbox",{key:t,staticClass:"checkbox-column",attrs:{"native-value":t},model:{value:e.personAnswers.data.dietaryRequirements,callback:function(t){e.$set(e.personAnswers.data,"dietaryRequirements",t)},expression:"personAnswers.data.dietaryRequirements"}},[e._v("\n                "+e._s(t)+"\n              ")])}),1)]),n("fieldset",[n("legend",{staticClass:"label"},[e._v("\n              Do you have any Accessability Requirements?\n            ")]),n("div",{staticClass:"checkbox-row"},e._l(e.accessabilityRequirements,function(t){return n("b-checkbox",{key:t,staticClass:"checkbox-column",attrs:{"native-value":t},model:{value:e.personAnswers.data.accessabilityRequirements,callback:function(t){e.$set(e.personAnswers.data,"accessabilityRequirements",t)},expression:"personAnswers.data.accessabilityRequirements"}},[e._v("\n                "+e._s(t)+"\n              ")])}),1)]),e.alreadyRegistered?n("div",{staticClass:"has-text-right has-text-success is-success already-registered"},[n("b-icon",{attrs:{icon:"check-circle",type:"is-success",size:"is-small"}}),e._v("\n            You've already registerd\n          ")],1):e._e(),n("div",{staticClass:"actions-row buttons is-pulled-right"},[n("button",{staticClass:"button is-medium",on:{click:function(t){t.preventDefault(),e.rejectModalActive=!0}}},[e._v("\n              "+e._s(e.rejectText)+"\n            ")]),n("input",{staticClass:"button is-medium is-primary",attrs:{type:"submit"},domProps:{value:e.acceptText}})])],1)])])]),n("b-modal",{attrs:{active:e.rejectModalActive},on:{"update:active":function(t){e.rejectModalActive=t}}},[n("div",{staticClass:"modal-card center-modal"},[n("header",{staticClass:"modal-card-head"},[n("p",{staticClass:"modal-card-title"},[e._v("Are You Sure")]),n("button",{staticClass:"delete",attrs:{"aria-label":"close"},on:{click:function(t){t.preventDefault(),e.rejectModalActive=!1}}})]),n("section",{staticClass:"modal-card-body"},[n("p",[e._v("\n          The person who invited you will be notified so they can invite\n          someone else.\n        ")])]),n("footer",{staticClass:"modal-card-foot"},[n("button",{staticClass:"button is-primary",on:{click:function(t){t.preventDefault(),e.rejectModalActive=!1}}},[e._v("\n          cancel\n        ")]),n("button",{staticClass:"button",on:{click:function(t){return t.preventDefault(),e.rejectTicket()}}},[e._v("\n          Give Up Ticket\n        ")])])])])],1)},o=[],c=n("3c34"),u=n("6c3f"),l=n("323e"),f=n.n(l),p=n("b5ae"),d=n("e6e0"),b=n("5003"),m=n("2f62"),v={name:"PartnerRegistration",components:{Markdown:d["a"]},validations:{personAnswers:{firstName:{required:p["required"]},lastName:{required:p["required"]},email:{required:p["required"],email:p["email"]}}},mixins:[b["a"]],data:function(){return{personAnswers:this.person,rejectModalActive:!1,errors:{}}},props:{event:{type:Object,required:!0},person:{type:Object,required:!0},ticketOffer:{type:Object,required:!0}},methods:{register:function(){var e=this;this.$v.$touch(),this.$v.$invalid||(f.a.start(),u["a"].updateProfile(this.person.id,{person:{firstName:this.personAnswers.firstName,lastName:this.personAnswers.lastName,email:this.personAnswers.email},profile:this.personAnswers.data}).then(function(){return f.a.done()}).catch(function(e){console.log(e)}),this.alreadyRegistered||c["a"].registerPartner(this.ticketOffer.id).then(function(){e.$store.dispatch("ticketOffers/getTicketOffer",e.ticketOffer.id),f.a.done(),e.$snackbar.open({message:"Successfully Registered: Thank you",position:"is-bottom-left"})}).catch(function(e){console.log(e)}))},rejectTicket:function(){this.$store.dispatch("ticketOffers/rejectTicketOffer",this.ticketOffer.id)}},computed:Object(i["a"])({},Object(m["b"])(["dietaryRequirements","accessabilityRequirements"]),{alreadyRegistered:function(){return"purchased"===this.ticketOffer.status},acceptText:function(){return this.alreadyRegistered?"Update Details":"Yes, I'm Coming"},rejectText:function(){return this.alreadyRegistered?"I can't make it anymore":"No, I'm Not Coming"},pageTitle:function(){return this.substituteContent(this.event.pagePartnerRegistrationTitle,this.person,this.event)},pageSubTitle:function(){return this.substituteContent(this.event.pagePartnerRegistrationSubtitle,this.person,this.event)},pageContent:function(){return this.substituteContent(this.event.pagePartnerRegistrationContentMarkdown,this.person,this.event)}})},h=v,y=(n("abe3"),n("2877")),g=Object(y["a"])(h,a,o,!1,null,"4ab47f65",null),w=g.exports,O=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"section"},[n("section",{staticClass:"container section-spacing"},[n("div",{staticClass:"columns is-centered"},[n("div",{staticClass:"column is-8"},[n("h1",{staticClass:"title is-1"},[e._v("\n          "+e._s(e.event.title)+"\n        ")]),n("h2",{staticClass:"subtitle is-4 is-primary"},[e._v("\n          Invite Declined\n        ")])])])]),n("section",{staticClass:"container section-spacing content"},[n("div",{staticClass:"columns is-centered"},[n("div",{staticClass:"column is-7"},[n("p",[e._v("\n          Thank you "),n("span",{staticClass:"has-text-primary"},[e._v(e._s(e.personName))]),e._v("\n          for indicating you will not be able to attend\n          "),n("strong",[e._v(" "+e._s(e.event.title)+". ")])]),n("p",[e._v("\n          We hope to see you at a future event\n        ")]),e._m(0)])])])])},k=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("p",[n("strong",{staticClass:"has-text-primary"},[e._v("\n            TEDxAuckland\n          ")])])}],C=n("75cd"),_={name:"PartnerRegistrationSurrendered",props:{event:{type:Object,required:!0},person:{type:Object,required:!0}},mixins:[C["a"]]},j=_,x=Object(y["a"])(j,O,k,!1,null,null,null),A=x.exports,N={name:"PartnerRegistration",components:{PartnerRegistrationPending:w,PartnerRegistrationSurrendered:A},data:function(){return{status:{pending:"partner-registration"}}},computed:Object(i["a"])({},Object(m["b"])({event:"events/event",person:"people/person",ticketOffer:"ticketOffers/ticketOffer"}))},S=N,P=Object(y["a"])(S,r,s,!1,null,null,null);t["default"]=P.exports},"85f2":function(e,t,n){e.exports=n("454f")},"8aae":function(e,t,n){n("32a6"),e.exports=n("584a").Object.keys},"9aa9":function(e,t){t.f=Object.getOwnPropertySymbols},a4bb:function(e,t,n){e.exports=n("8aae")},abe3:function(e,t,n){"use strict";var r=n("721c"),s=n.n(r);s.a},bf0b:function(e,t,n){var r=n("355d"),s=n("aebd"),i=n("36c3"),a=n("1bc3"),o=n("07e3"),c=n("794b"),u=Object.getOwnPropertyDescriptor;t.f=n("8e60")?u:function(e,t){if(e=i(e),t=a(t,!0),c)try{return u(e,t)}catch(n){}if(o(e,t))return s(!r.f.call(e,t),e[t])}},bf90:function(e,t,n){var r=n("36c3"),s=n("bf0b").f;n("ce7e")("getOwnPropertyDescriptor",function(){return function(e,t){return s(r(e),t)}})},ccb9:function(e,t,n){t.f=n("5168")},ce7e:function(e,t,n){var r=n("63b6"),s=n("584a"),i=n("294c");e.exports=function(e,t){var n=(s.Object||{})[e]||Object[e],a={};a[e]=t(n),r(r.S+r.F*i(function(){n(1)}),"Object",a)}},cebc:function(e,t,n){"use strict";var r=n("268f"),s=n.n(r),i=n("e265"),a=n.n(i),o=n("a4bb"),c=n.n(o),u=n("85f2"),l=n.n(u);function f(e,t,n){return t in e?l()(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function p(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=c()(n);"function"===typeof a.a&&(r=r.concat(a()(n).filter(function(e){return s()(n,e).enumerable}))),r.forEach(function(t){f(e,t,n[t])})}return e}n.d(t,"a",function(){return p})},e265:function(e,t,n){e.exports=n("ed33")},ebfd:function(e,t,n){var r=n("62a0")("meta"),s=n("f772"),i=n("07e3"),a=n("d9f6").f,o=0,c=Object.isExtensible||function(){return!0},u=!n("294c")(function(){return c(Object.preventExtensions({}))}),l=function(e){a(e,r,{value:{i:"O"+ ++o,w:{}}})},f=function(e,t){if(!s(e))return"symbol"==typeof e?e:("string"==typeof e?"S":"P")+e;if(!i(e,r)){if(!c(e))return"F";if(!t)return"E";l(e)}return e[r].i},p=function(e,t){if(!i(e,r)){if(!c(e))return!0;if(!t)return!1;l(e)}return e[r].w},d=function(e){return u&&b.NEED&&c(e)&&!i(e,r)&&l(e),e},b=e.exports={KEY:r,NEED:!1,fastKey:f,getWeak:p,onFreeze:d}},ed33:function(e,t,n){n("014b"),e.exports=n("584a").Object.getOwnPropertySymbols},fde4:function(e,t,n){n("bf90");var r=n("584a").Object;e.exports=function(e,t){return r.getOwnPropertyDescriptor(e,t)}}}]);
//# sourceMappingURL=partner-registration.45bba8b0.js.map