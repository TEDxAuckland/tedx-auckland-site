(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["ticket-offer-application"],{"0d82":function(t,e,s){},3375:function(t,e,s){"use strict";var n=s("0d82"),i=s.n(n);i.a},3882:function(t,e,s){},5732:function(t,e,s){"use strict";var n=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("fieldset",[s("b-field",{attrs:{label:"Suburb / Town",type:{"is-danger":t.$v.ticketQuestions.suburb.$error}}},[s("b-input",{attrs:{type:"text",placeholder:"E.g. Mt Eden or Katikati"},on:{blur:function(e){return t.$v.ticketQuestions.suburb.$touch()}},model:{value:t.questions.suburb,callback:function(e){t.$set(t.questions,"suburb",t._n(e))},expression:"questions.suburb"}})],1),s("b-field",{attrs:{label:"Region",type:{"is-danger":t.$v.ticketQuestions.area.$error}}},[s("b-input",{attrs:{type:"text",placeholder:"E.g. Auckland or Bay of Plenty"},on:{blur:function(e){return t.$v.ticketQuestions.area.$touch()}},model:{value:t.questions.area,callback:function(e){t.$set(t.questions,"area",t._n(e))},expression:"questions.area"}})],1),s("b-field",{attrs:{label:"Have you been involved in the starting of a new venture?",type:{"is-danger":t.$v.ticketQuestions.founded.$error}}},[s("b-input",{attrs:{type:"text",placeholder:"E.g. Non-Profit, Company or Org"},on:{blur:function(e){return t.$v.ticketQuestions.founded.$touch()}},model:{value:t.questions.founded,callback:function(e){t.$set(t.questions,"founded",t._n(e))},expression:"questions.founded"}})],1),s("fieldset",[s("legend",{staticClass:"label"},[t._v("Do you have any Dietary Requirements?")]),s("div",{staticClass:"checkbox-row"},t._l(t.dietaryRequirements,function(e){return s("b-checkbox",{key:e,staticClass:"checkbox-column",attrs:{"native-value":e},model:{value:t.questions.dietaryRequirements,callback:function(e){t.$set(t.questions,"dietaryRequirements",e)},expression:"questions.dietaryRequirements"}},[t._v("\n        "+t._s(e)+"\n      ")])}),1)]),s("fieldset",[s("legend",{staticClass:"label"},[t._v("Conversation Starters: Talk to me about...")]),s("div",{staticClass:"columns"},[s("div",{staticClass:"column is-11 is-offset-1"},[s("b-field",{attrs:{type:{"is-danger":t.$v.ticketQuestions.conversationStarters.one.$error}}},[s("b-input",{attrs:{type:"text",maxlength:"40"},on:{blur:function(e){return t.$v.ticketQuestions.conversationStarters.one.$touch()}},model:{value:t.questions.conversationStarters.one,callback:function(e){t.$set(t.questions.conversationStarters,"one",e)},expression:"questions.conversationStarters.one"}})],1),s("b-field",{attrs:{type:{"is-danger":t.$v.ticketQuestions.conversationStarters.two.$error}}},[s("b-input",{attrs:{type:"text",maxlength:"40"},on:{blur:function(e){return t.$v.ticketQuestions.conversationStarters.two.$touch()}},model:{value:t.questions.conversationStarters.two,callback:function(e){t.$set(t.questions.conversationStarters,"two",e)},expression:"questions.conversationStarters.two"}})],1)],1)])])],1)},i=[],a={name:"TicketQuestions",props:{questions:{type:Object,required:!0},$v:{type:Object,required:!0}},computed:{dietaryRequirements:function(){return this.$store.state.dietaryRequirements}}},o=a,r=s("2877"),c=Object(r["a"])(o,n,i,!1,null,null,null);e["a"]=c.exports},"75cd":function(t,e,s){"use strict";s.d(e,"a",function(){return n});var n={computed:{personName:function(){return this.person.lastName?"".concat(this.person.firstName," ").concat(this.person.lastName):this.person.firstName}}}},"8acf":function(t,e,s){"use strict";s.r(e);var n=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"section"},[s("section",{staticClass:"container section-spacing"},[s("div",{staticClass:"columns is-centered"},[s("div",{staticClass:"column is-8"},[s("h1",{staticClass:"title is-1"},[t._v(t._s(t.event.pageTicketOfferTitle))]),s("h2",{staticClass:"subtitle is-4"},[t._v("\n          "+t._s(t.event.pageTicketOfferSubtitle)+"\n        ")])])])]),s("section",{staticClass:"container section-spacing content"},[s("div",{staticClass:"columns is-centered"},[s("div",{staticClass:"column is-7"},[s("p",{staticClass:"is-size-4"},[t._v("\n          Hi\n          "),s("span",{staticClass:"has-text-primary"},[t._v(t._s(t.personName))])]),s("p",[t._v("\n          You have been giving the opportunity to purchase\n          "),s("strong",{staticClass:"has-text-primary"},[t._v("\n            "+t._s(t.ticketOffer.ticketCount)+"\n          ")]),t._v("\n          "+t._s(t.ticketOffer.ticketCount>1?"tickets at":"ticket for")+"\n          "),s("strong",{staticClass:"has-text-primary"},[t._v(t._s(t.formattedTicketPrice))]),t._v("\n          "+t._s(t.ticketOffer.ticketCount>1?"each":null)+". There are\n          "),s("strong",{staticClass:"has-text-primary"},[t._v(t._s(t.ticketsLeft))]),t._v(" tickets\n          left, please complete the form below and buy your\n          "+t._s(t.ticketOffer.ticketCount>1?"tickets":"ticket")+" now.\n        ")]),s("Markdown",{attrs:{input:t.event.pageTicketOfferContentMarkdown}}),t._m(0)],1)])]),s("section",{staticClass:"container"},[s("div",{staticClass:"columns is-centered"},[s("div",{staticClass:"column is-6"},[s("form",{on:{submit:function(e){return e.preventDefault(),t.acceptTicket(e)}}},[s("h2",{staticClass:"title is-3"},[t._v("Your Contact Info")]),s("PersonInfo",{staticClass:"section-spacing",attrs:{person:t.person,$v:t.$v}}),s("h2",{staticClass:"title is-3"},[t._v("General Questions")]),s("ApplicationQuestions",{staticClass:"section-spacing",attrs:{details:t.applicationQuestions,$v:t.$v}}),s("h2",{staticClass:"title is-3"},[t._v("Questions for Ticket")]),s("TicketQuestions",{staticClass:"section-spacing",attrs:{questions:t.ticketQuestions,$v:t.$v}}),t._m(1)],1)])])])])},i=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("p",[s("strong",{staticClass:"has-text-primary"},[t._v("\n            The TEDxAuckland team\n          ")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"buttons has-addons is-right"},[s("input",{staticClass:"button is-primary is-medium",attrs:{type:"submit",value:"Proceed to Invites and Purchase"}})])}],a=s("cebc"),o=s("e6e0"),r=s("0527"),c=s("2964"),u=s("5732"),l=s("3c34"),d=s("323e"),v=s.n(d),f=s("75cd"),p=s("16c3"),m={name:"TicketOfferFromApplication",components:{Markdown:o["a"],PersonInfo:r["a"],ApplicationQuestions:c["a"],TicketQuestions:u["a"]},props:{personInit:{type:Object,required:!0},ticketOffer:{type:Object,required:!0},event:{type:Object,required:!0}},data:function(){return{isRejectModalActive:!1}},mixins:[p["c"],p["a"],p["g"],f["a"]],computed:{formattedTicketPrice:function(){return"$".concat(this.ticketOffer.costAfterDiscountCents/100)},ticketsLeft:function(){return this.event.standardTicketsLeft},ticketsLeftUrgent:function(){var t=18;return this.event.standardTicketsLeft<t?this.event.standardTicketsLeft:t}},validations:{person:p["d"],applicationQuestions:p["b"],ticketQuestions:p["h"]},methods:{acceptTicket:function(){this.$v.$touch(),this.$v.$invalid||(v.a.start(),l["a"].acceptTicket({id:this.ticketOffer.id,contactQuestions:this.person,ticketQuestions:Object(a["a"])({},this.applicationQuestions,this.ticketQuestions)}).then(function(t){v.a.done(),window.location.assign(t.data.purchase_url)}).catch(function(t){v.a.done(),console.log("ERROR",t)}))}}},b=m,k=(s("3375"),s("2877")),h=Object(k["a"])(b,n,i,!1,null,null,null);e["default"]=h.exports},dfb5:function(t,e,s){"use strict";var n=s("3882"),i=s.n(n);i.a},ff89:function(t,e,s){"use strict";s.r(e);var n=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"section"},[t._m(0),s("section",{staticClass:"container section-spacing content"},[s("div",{staticClass:"columns is-centered"},[s("div",{staticClass:"column is-7"},[s("p",{staticClass:"is-size-4"},[t._v("\n          Hi\n          "),s("span",{staticClass:"has-text-primary"},[t._v(t._s(t.personName))])]),s("p",[t._v("\n          Please update your Ticket information.\n        ")]),t._m(1)])])]),s("section",{staticClass:"container"},[s("div",{staticClass:"columns is-centered"},[s("div",{staticClass:"column is-6"},[s("form",{on:{submit:function(e){return e.preventDefault(),t.updateInfo(e)}}},[s("h2",{staticClass:"title is-3"},[t._v("Your Contact Info")]),s("PersonInfo",{staticClass:"section-spacing",attrs:{person:t.person,$v:t.$v}}),s("TicketDetailsForm",{staticClass:"section-spacing",attrs:{questions:t.ticketDetails,$v:t.$v}}),t._m(2)],1)])])])])},i=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("section",{staticClass:"container section-spacing"},[s("div",{staticClass:"columns is-centered"},[s("div",{staticClass:"column is-8"},[s("h1",{staticClass:"title is-1"},[t._v("Final Ticket Offer")]),s("h1",{staticClass:"subtitle is-2"},[t._v("May 2019")])])])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("p",[s("strong",{staticClass:"has-text-primary"},[t._v("\n            The TEDxAuckland team\n          ")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"buttons has-addons is-right"},[s("input",{staticClass:"button is-primary is-medium",attrs:{type:"submit",value:"Update info"}})])}],a=s("0527"),o=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("fieldset",[s("fieldset",[s("legend",{staticClass:"label"},[t._v("Do you have any Dietary Requirements?")]),s("div",{staticClass:"checkbox-row"},t._l(t.dietaryRequirements,function(e){return s("b-checkbox",{key:e,staticClass:"checkbox-column",attrs:{"native-value":e},model:{value:t.questions.dietaryRequirements,callback:function(e){t.$set(t.questions,"dietaryRequirements",e)},expression:"questions.dietaryRequirements"}},[t._v("\n        "+t._s(e)+"\n      ")])}),1)]),s("fieldset",[s("legend",{staticClass:"label"},[t._v("Conversation Starters: Talk to me about...")]),s("div",{staticClass:"columns"},[s("div",{staticClass:"column is-11 is-offset-1"},[s("b-field",{attrs:{type:{"is-danger":t.$v.ticketDetails.conversationStarters.one.$error}}},[s("b-input",{attrs:{type:"text",maxlength:"40"},on:{blur:function(e){return t.$v.ticketDetails.conversationStarters.one.$touch()}},model:{value:t.questions.conversationStarters.one,callback:function(e){t.$set(t.questions.conversationStarters,"one",e)},expression:"questions.conversationStarters.one"}})],1),s("b-field",{attrs:{type:{"is-danger":t.$v.ticketDetails.conversationStarters.two.$error}}},[s("b-input",{attrs:{type:"text",maxlength:"40"},on:{blur:function(e){return t.$v.ticketDetails.conversationStarters.two.$touch()}},model:{value:t.questions.conversationStarters.two,callback:function(e){t.$set(t.questions.conversationStarters,"two",e)},expression:"questions.conversationStarters.two"}})],1)],1)])])])},r=[],c={name:"TicketDetailsForm",props:{questions:{type:Object,required:!0},$v:{type:Object,required:!0}},computed:{dietaryRequirements:function(){return this.$store.state.dietaryRequirements}}},u=c,l=s("2877"),d=Object(l["a"])(u,o,r,!1,null,null,null),v=d.exports,f=s("3c34"),p=s("323e"),m=s.n(p),b=s("75cd"),k=s("16c3"),h={name:"TicketDetails",components:{PersonInfo:a["a"],TicketDetailsForm:v},props:{personInit:{type:Object,required:!0},ticketOffer:{type:Object,required:!0},event:{type:Object,required:!0}},mixins:[k["c"],k["e"],b["a"]],validations:{person:k["d"],ticketDetails:k["f"]},methods:{snackbar:function(){this.$snackbar.open("Default, positioned bottom-right with a green 'OK' button")},updateInfo:function(){var t=this;this.$v.$touch(),this.$v.$invalid||(m.a.start(),f["a"].updatePersonInfo(this.ticketOffer.id,{contactQuestions:this.person,personInfo:this.ticketDetails}).then(function(){m.a.done(),t.$snackbar.open("Successfully updated Ticket Details")}).catch(function(t){m.a.done(),console.log("ERROR",t)}))}}},$=h,C=(s("dfb5"),Object(l["a"])($,n,i,!1,null,null,null));e["default"]=C.exports}}]);
//# sourceMappingURL=ticket-offer-application.70e0b8f2.js.map